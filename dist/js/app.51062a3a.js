(function(t){function e(e){for(var n,i,s=e[0],l=e[1],c=e[2],u=0,p=[];u<s.length;u++)i=s[u],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&p.push(o[i][0]),o[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);d&&d(e);while(p.length)p.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],n=!0,s=1;s<a.length;s++){var l=a[s];0!==o[l]&&(n=!1)}n&&(r.splice(e--,1),t=i(i.s=a[0]))}return t}var n={},o={app:0},r=[];function i(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=n,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var d=l;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var n=a("64a9"),o=a.n(n);o.a},"0927":function(t,e,a){},"25cd":function(t,e,a){"use strict";var n=a("7456"),o=a.n(n);o.a},2820:function(t,e,a){"use strict";var n=a("a2da"),o=a.n(n);o.a},"459c":function(t,e,a){"use strict";var n=a("0927"),o=a.n(n);o.a},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var n=a("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[n("a",{attrs:{href:"/"}},[n("v-img",{staticClass:"mx-2",attrs:{src:a("8e48"),"max-height":"auto","max-width":"60%",contain:""}})],1),n("a",{staticClass:"red--text text--darken-2 mr-3",attrs:{href:"/"}},[t._v("Home")]),t._v(" |\n    "),n("a",{staticClass:"red--text text--darken-2 mr-3 ml-3 ",attrs:{href:"/contacts"}},[t._v("Contacts")]),t._v(" |\n    "),n("a",{staticClass:"red--text text--darken-2 ml-3 mr-3",attrs:{href:"/organizations"}},[t._v("Connections")]),t._v(" |\n    "),n("a",{staticClass:"red--text text--darken-2 ml-3 mr-3",attrs:{href:"/users"}},[t._v("Users")]),n("v-spacer"),n("a",{staticStyle:{color:"darkred"},attrs:{href:""}},[t._v("Logout")])],1),n("v-main",{staticStyle:{"background-color":"rgba(45, 70, 40, 0.04)"}},[n("router-view")],1)],1)},r=[],i={name:"App"},s=i,l=(a("034f"),a("2877")),c=a("6544"),d=a.n(c),u=a("7496"),p=a("40dc"),_=a("adda"),v=a("f6c4"),m=a("2fa4"),f=Object(l["a"])(s,o,r,!1,null,null,null),h=f.exports;d()(f,{VApp:u["a"],VAppBar:p["a"],VImg:_["a"],VMain:v["a"],VSpacer:m["a"]});var g=a("8c4f"),b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-row",[a("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[a("div",{staticClass:"text-h2 red--text text--darken-4"},[t._v("Northeast Florida Data Dashboard")])])],1),a("v-row",{staticClass:"text-center"},[a("v-col",{staticClass:"cols-7"},[a("a",{staticClass:"text-h4 grey--text text--darken-2",attrs:{href:"/contacts"}},[t._v("Contacts | ")]),a("a",{staticClass:"text-h4 grey--text text--darken-2",attrs:{href:"/organizations"}},[t._v("Connections | ")]),a("a",{staticClass:"text-h4 grey--text text--darken-2",attrs:{href:"/users"}},[t._v("Users")])])],1)],1)},x=[],y={name:"Home"},k=y,w=a("62ad"),C=a("a523"),P=a("0fd9"),V=Object(l["a"])(k,b,x,!1,null,null,null),z=V.exports;d()(V,{VCol:w["a"],VContainer:C["a"],VRow:P["a"]});var S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("div",{staticClass:"red--text text--darken-2 page-title"},[t._v("Connections")]),a("v-row",[a("v-col",{staticClass:"col-12 "},[a("v-row",[a("v-col",[a("v-hover",{attrs:{"open-delay":"200"},scopedSlots:t._u([{key:"default",fn:function(e){e.hover;return[a("v-btn",{attrs:{text:"",color:"red"},on:{click:function(e){t.add_organization_dlg=!0}}},[t._v("\n                Add New Organization\n                "),a("v-icon",[t._v("\n                  mdi-plus\n                ")])],1)]}}])})],1)],1),a("v-card",{attrs:{outlined:"",elevation:"3 text-wrap"}},[a("v-card-text",[a("v-row",[a("v-col",{staticClass:"col-6"},[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search Table","single-line":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),a("v-row",{staticStyle:{"margin-top":"-30px"}},[a("v-col",{staticClass:"col-2"},[a("v-chip",{attrs:{"input-value":t.filters.partners,filter:"",color:"#66BB",pill:""},on:{click:function(e){t.filters.partners=!t.filters.partners,t.filterOrganizations()}}},[t._v("Partners")])],1),a("v-col",{staticClass:"col-3",staticStyle:{"margin-left":"-30px"}},[a("v-chip",{attrs:{"input-value":t.filters.relationships,filter:"",color:"deep-orange",pill:""},on:{click:function(e){t.filters.relationships=!t.filters.relationships,t.filterOrganizations()}}},[t._v("Relationships")])],1)],1),a("v-data-table",{staticClass:"text-capitalize",attrs:{headers:t.headers,search:t.search,items:t.organizations,"item-key":"id","multi-sort":""},on:{"click:row":t.nav},scopedSlots:t._u([{key:"body.append",fn:function(e){e.item;return[a("div",{staticClass:"row"},[a("div",{staticClass:"col",staticStyle:{"margin-bottom":"-25px",padding:"5px"}},[a("JsonExcel",{staticClass:"btn btn-default",attrs:{data:t.excel_data,fields:t.excel_fields,worksheet:"My Worksheet",name:"filename.xls"}},[a("v-btn",{attrs:{text:"",color:"blue"}},[t._v("\n                      Download to Excel File\n                    ")])],1)],1),a("div",{staticClass:"col-4"},[a("v-dialog",{attrs:{"max-width":"600px"},model:{value:t.add_organization_dlg,callback:function(e){t.add_organization_dlg=e},expression:"add_organization_dlg"}},[a("v-card",[a("v-form",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Organization Information")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"6",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Agency Name*",required:""},model:{value:t.add_organization.name,callback:function(e){t.$set(t.add_organization,"name",e)},expression:"add_organization.name"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Street Number"},model:{value:t.add_organization.street_number,callback:function(e){t.$set(t.add_organization,"street_number",e)},expression:"add_organization.street_number"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Street Name"},model:{value:t.add_organization.street_name,callback:function(e){t.$set(t.add_organization,"street_name",e)},expression:"add_organization.street_name"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"3",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"City"},model:{value:t.add_organization.city,callback:function(e){t.$set(t.add_organization,"city",e)},expression:"add_organization.city"}})],1),a("v-col",{attrs:{cols:"2"}},[a("v-text-field",{attrs:{label:"State"},model:{value:t.add_organization.state,callback:function(e){t.$set(t.add_organization,"state",e)},expression:"add_organization.state"}})],1),a("v-col",{attrs:{cols:"3"}},[a("v-text-field",{attrs:{label:"Zip"},model:{value:t.add_organization.zip,callback:function(e){t.$set(t.add_organization,"zip",e)},expression:"add_organization.zip"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:"County"},model:{value:t.add_organization.county,callback:function(e){t.$set(t.add_organization,"county",e)},expression:"add_organization.county"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:"Website"},model:{value:t.add_organization.website,callback:function(e){t.$set(t.add_organization,"website",e)},expression:"add_organization.website"}})],1)],1),a("v-row",[a("v-col",[a("v-row",{staticClass:"headline"},[t._v("Organization Type")]),a("v-row",[a("v-select",{attrs:{label:"Type",items:t.organization_types},model:{value:t.add_organization.type,callback:function(e){t.$set(t.add_organization,"type",e)},expression:"add_organization.type"}})],1),"Relationship"==t.add_organization.type?a("v-row",[a("v-select",{staticClass:"text-capitalize",attrs:{items:t.relationship_statuses},model:{value:t.add_organization.status,callback:function(e){t.$set(t.add_organization,"status",e)},expression:"add_organization.status"}})],1):t._e(),"Partner"==t.add_organization.type?a("span",[a("v-row",[a("v-text-field",{attrs:{label:"Services"},model:{value:t.add_organization.services,callback:function(e){t.$set(t.add_organization,"services",e)},expression:"add_organization.services"}})],1),a("v-row",[a("v-text-field",{attrs:{label:"Critical Relationship Information"},model:{value:t.add_organization.critical_relationship_information,callback:function(e){t.$set(t.add_organization,"critical_relationship_information",e)},expression:"add_organization.critical_relationship_information"}})],1)],1):t._e()],1)],1)],1),a("small",[t._v("*indicates required field")])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.add_organization_dlg=!1}}},[t._v("\n                            Close\n                          ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.addOrganization}},[t._v("\n                            Save\n                          ")])],1)],1)],1)],1)],1)])]}},{key:"item.name",fn:function(e){var n=e.item;return[null!==n.relationship?a("span",[a("v-icon",{attrs:{color:"pink"}},[t._v("mdi-hospital-box")]),t._v("\n                "+t._s(n.name)+"\n              ")],1):null!==n.partner?a("span",[a("v-icon",{attrs:{color:"purple"}},[t._v("mdi-hospital-box")]),t._v("\n                "+t._s(n.name)+"\n              ")],1):t._e()]}},{key:"item.address",fn:function(e){var n=e.item;return[a("address",{staticClass:"text-capitalize"},[t._v("\n                "+t._s(n.address)+"\n              ")])]}},{key:"item.manager",fn:function(e){var a=e.item;return[t._v("\n            "+t._s(a.manager)+"\n          ")]}}])})],1)],1)],1)],1)],1)},I=[],D=(a("7f7f"),a("ac6a"),a("d225")),E=a("b0b4"),O=a("bc3a"),$=a.n(O),N=$.a.create({baseURL:"http://localhost:8080",headers:{"Content-type":"application/json"}}),A=function(){function t(){Object(D["a"])(this,t)}return Object(E["a"])(t,[{key:"getAll",value:function(){return N.get("organizations")}},{key:"get",value:function(t){return N.get("/oganizations/".concat(t))}},{key:"create",value:function(t){return N.post("/organizations",t)}},{key:"update",value:function(t,e){return N.put("/organizations/".concat(t),e)}},{key:"delete",value:function(t){return N.delete("/organizations/".concat(t))}},{key:"deleteAll",value:function(){return N.delete("/organizations")}}]),t}(),F=new A,R=function(){function t(){Object(D["a"])(this,t)}return Object(E["a"])(t,[{key:"getAll",value:function(){return N.get("partners")}},{key:"get",value:function(t){return N.get("/partners/".concat(t))}},{key:"create",value:function(t){return N.post("/partners",t)}},{key:"update",value:function(t,e){return N.put("/partners/".concat(t),e)}},{key:"delete",value:function(t){return N.delete("/partners/".concat(t))}},{key:"deleteAll",value:function(){return N.delete("/partners")}}]),t}(),L=new R,j=function(){function t(){Object(D["a"])(this,t)}return Object(E["a"])(t,[{key:"getAll",value:function(){return N.get("relationships")}},{key:"get",value:function(t){return N.get("/relationships/".concat(t))}},{key:"create",value:function(t){return N.post("/relationships",t)}},{key:"update",value:function(t,e){return N.put("/relationships/".concat(t),e)}},{key:"delete",value:function(t){return N.delete("/relationships/".concat(t))}},{key:"deleteAll",value:function(){return N.delete("/relationships")}}]),t}(),T=new j,M=a("f2d9"),q={name:"organizations",components:{JsonExcel:M["a"]},data:function(){return{excel_fields:{},excel_data:[],json_meta:[[{key:"charset",value:"utf-8"}]],filters:{partners:!0,relationships:!0,my_assignments:!1},add_organization_dlg:!1,search:"",organizations:[],orgCache:[],organization_types:["Relationship","Partner"],relationship_statuses:["Hot","Warm","Cold"],add_organization:{name:"",street_number:"",street_name:"",city:"",state:"",zip:"",county:"",website:"",poc:{phone:"",email:""},type:"",critical_relationship_information:"",services:"",status:""}}},computed:{headers:function(){var t=this,e=[{text:"Name",value:"name"},{text:"Address",value:"address"},{text:"County",value:"county"},{text:"Manager",value:"manager"},{text:"",value:""}];return this.filters.partners&&e.push({text:"Services",value:"partner.services"}),this.filters.relationships&&e.push({text:"Status",value:"relationship.status"}),e.forEach((function(a){e.forEach((function(e){t.excel_fields[e.text]=e.text.toLowerCase()}))})),e}},methods:{updateExcelFields:function(){var t=this;this.headers.forEach((function(e){t.excel_fields[e.text]=e.text.toLocaleLowerCase()}))},nav:function(t){null!==t.partner?this.$router.push({path:"partner/"+t.id}):null!=t.relationship&&this.$router.push({path:"relationship/"+t.id})},addOrganization:function(){var t=this,e={name:this.add_organization.name,street_number:this.add_organization.street_number,street_name:this.add_organization.street_name,city:this.add_organization.city,state:this.add_organization.state,zip:this.add_organization.zip,website:this.add_organization.website};"Partner"==this.add_organization.type?(e.services=this.add_organization.services,e.critical_relationship_information=this.add_organization.critical_relationship_information,L.create(e).then((function(e){t.retrieveOrganizations(),t.add_organization_dlg=!1})).catch((function(t){console.log(t)}))):"Relationship"==this.add_organization.type&&(e.status=this.add_organization.status,T.create(e).then((function(e){console.log(e),t.retrieveOrganizations(),t.add_organization_dlg=!1})).catch((function(t){console.log(t)})))},retrieveOrganizations:function(){var t=this;F.getAll().then((function(e){t.orgCache=e.data,t.orgCache.forEach((function(e){if(null!==e.relationship_managers&&0!==e.relationship_managers.length){e.address=e.street_number+" "+e.street_name+"\n"+e.city+", "+e.state+" "+e.zip;var a=e.relationship_managers[0].person,n=a.first_name+" "+a.last_name;e.manager=n;var o="";a.phones.forEach((function(t){o+=t.number+" \n"}));var r="";a.emails.forEach((function(t){r+=t.address+" \n"})),e.manager=n+"\n"+o+"\n"+r,e.managerId=a.id}else e.manager="Not yet assigned",e.managerId=0;null!==e.partner?e.services=e.partner.services:null!==e.relationship&&(e.status=e.relationship.status),t.excel_data=t.organizations})),t.organizations=e.data,t.organizations.forEach((function(e){if(e.address=e.street_number+" "+e.street_name+"\n"+e.city+", "+e.state+" "+e.zip,null!==e.relationship_managers&&0!==e.relationship_managers.length){var a=e.relationship_managers[0].person,n=a.first_name+" "+a.last_name,o="";a.phones.forEach((function(t){o+=t.number+" \n"}));var r="";a.emails.forEach((function(t){r+=t.address+" \n"})),e.manager=n+"\n"+o+"\n"+r,e.managerId=a.id}else e.manager="Not yet assigned",e.managerId=0;null!==e.partner?e.services=e.partner.services:null!==e.relationship&&(e.status=e.relationship.status),t.excel_data=t.organizations}))})).catch((function(t){console.log(t.message)}))},filterOrganizations:function(){var t=this;this.organizations=this.orgCache.filter((function(e){var a=!t.filters["my_assignments"]||"5693164c-5da4-4d07-ad24-d9f39befc823"==e.managerId;return(t.filters["partners"]&&null!==e.partner&&a)|(t.filters["relationships"]&&null!==e.relationship&&a)})),this.updateExcelFields()}},mounted:function(){this.retrieveOrganizations()}},U=q,B=a("8336"),H=a("b0af"),J=a("99d9"),Z=a("cc20"),G=a("8fea"),W=a("169a"),Y=a("4bd4"),X=a("ce87"),K=a("132d"),Q=a("b974"),tt=a("8654"),et=Object(l["a"])(U,S,I,!1,null,null,null),at=et.exports;d()(et,{VBtn:B["a"],VCard:H["a"],VCardActions:J["a"],VCardText:J["c"],VCardTitle:J["d"],VChip:Z["a"],VCol:w["a"],VContainer:C["a"],VDataTable:G["a"],VDialog:W["a"],VForm:Y["a"],VHover:X["a"],VIcon:K["a"],VRow:P["a"],VSelect:Q["a"],VSpacer:m["a"],VTextField:tt["a"]});var nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("div",{staticClass:"red--text text--darken-4 page-title"},[t._v("Partner")]),a("v-row",[a("v-col",{staticClass:"col-4"},[a("v-card",{staticClass:"mb-3",attrs:{elevation:"3"}},[a("v-card-title",[a("a",{staticClass:"btn font-weight-bold blue-grey--text",on:{click:function(e){return t.openDialog("Edit")}}},[t._v("\n                      "+t._s(t.partner.name)+"\n                    ")])]),a("v-card-subtitle",[a("address",{staticClass:"text-capitalize"},[t._v("\n                      "+t._s(t.partner.street_number)+" "+t._s(t.partner.street_name)+"\n                      "+t._s(t.partner.city)+", "+t._s(t.partner.state)+" "+t._s(t.partner.zip)+"\n                      "+t._s(t.partner.county)+" County\n                    ")]),a("a",{staticClass:"red--text text--darken-3  body-3 mt-3",attrs:{href:t.partner.website}},[t._v("\n                      "+t._s(t.partner.website)+"\n                    ")]),a("div",{staticClass:"font-weight-light"},[t._v(t._s(t.partner_secondary_info.services))]),a("div",{staticClass:"font-weight-bold"},[t._v("\n              "+t._s(t.partner_secondary_info.critical_relationship_information)+"\n            ")])]),a("v-card-text",[a("a",{staticClass:"btn font-weight-bold blue-grey--text",on:{click:function(e){return t.openDialog("POC")}}},[0==t.organization_points_of_contact.length?a("span",[t._v("\n                  Add New Point of Contact\n                ")]):t._e()]),t._l(t.organization_points_of_contact,(function(e){return a("div",{key:e.personId,staticClass:"mt-3"},[a("a",{staticClass:"btn font-weight-bold blue-grey--text",on:{click:function(e){return t.openDialog("POC")}}},[a("span",{ref:"first_name_"+e.personId,refInFor:!0},[t._v(t._s(e.first_name)+" ")]),a("span",{ref:"last_name_"+e.personId,refInFor:!0},[t._v(t._s(e.last_name)+" ")])]),a("br"),t._l(e.phones,(function(e){return a("span",{key:e.number,staticClass:"font-weight-thin"},[1==e.isPrimary?a("span",[a("span",{ref:"phone_"+e.id,refInFor:!0},[t._v("\n                      "+t._s(e.number)+" (P) |\n                    ")])]):t._e()])})),t._l(e.phones,(function(e){return a("span",{key:e.number,staticClass:"font-weight-thin"},[0==e.isPrimary?a("span",[a("span",{ref:"phone_"+e.id,refInFor:!0},[t._v("\n                      "+t._s(e.number)+"\n                    ")])]):t._e()])})),a("br"),t._l(e.emails,(function(e){return a("span",{key:e.address,staticClass:"font-weight-thin"},[1==e.isPrimary?a("span",[a("span",{ref:"email_"+e.id,refInFor:!0},[t._v("\n                        "+t._s(e.address)+" (P) |\n                      ")])]):t._e()])})),t._l(e.emails,(function(e){return a("span",{key:e.address,staticClass:"font-weight-thin"},[0==e.isPrimary?a("span",[a("span",{ref:"email_"+e.id,refInFor:!0},[t._v("\n                      "+t._s(e.address)+"\n                    ")])]):t._e()])}))],2)}))],2)],1),a("v-card",[a("v-card-text",[0==t.organization_relationship_managers.length?a("span",[a("a",{staticClass:"btn font-weight-bold blue-grey--text",on:{click:function(e){return t.openDialog("RM")}}},[t._v("\n              Assign an Organization Manager\n              ")])]):t._e(),t._l(t.organization_relationship_managers,(function(e){return a("div",{key:e.id},[a("a",{staticClass:"btn font-weight-bold blue-grey--text",on:{click:function(e){return t.openDialog("RM")}}},[a("div",{staticClass:"font-weight-black mt-3"},[a("strong",[a("span",{ref:"relationship_manager_"+e.personId,refInFor:!0},[t._v("\n                      "+t._s(e.person.first_name)+" "+t._s(e.person.last_name)+" (Relationship Manager)\n                    ")])])])]),t._l(e.person.phones,(function(e){return a("div",{key:e.number,staticClass:"font-weight-thin"},[t._v(t._s(e.number))])})),t._l(e.person.emails,(function(e){return a("div",{key:e.address,staticClass:"font-weight-thin"},[t._v(" "+t._s(e.address))])}))],2)}))],2)],1)],1),a("v-col",[a("NoteDialog",{attrs:{item:t.view_note_item},model:{value:t.showNoteDialog,callback:function(e){t.showNoteDialog=e},expression:"showNoteDialog"}}),[a("v-card",{staticClass:"mx-auto"},[a("v-card-title",{staticClass:"white--text red darken-4"},[t._v("\n\t\t\t\t\t\t\tNotes:\n\n\t\t\t\t\t\t\t"),a("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,o=e.attrs;return[a("v-hover",{attrs:{"open-delay":"200"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.hover;return[a("v-btn",t._g(t._b({staticClass:"text--primary",class:{"on-hover":r},attrs:{color:"white",fab:"",small:"",elevation:r?16:2}},"v-btn",o,!1),n),[a("v-icon",[t._v("\n\t\t\t\t\t\t\t\tmdi-plus\n\t\t\t\t\t\t\t")])],1)]}}],null,!0)})]}}]),model:{value:t.add_note_dlg,callback:function(e){t.add_note_dlg=e},expression:"add_note_dlg"}},[t._v("e\n\t\t\t\t\t\t\t"),a("v-form",{ref:"new_note_form",model:{value:t.valid_note,callback:function(e){t.valid_note=e},expression:"valid_note"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Note")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{staticClass:"col-3"},[a("v-autocomplete",{attrs:{items:t.add_note_form.types,label:"Type"},model:{value:t.add_note_form.type,callback:function(e){t.$set(t.add_note_form,"type",e)},expression:"add_note_form.type"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-textarea",{attrs:{rules:t.note_text_rule},model:{value:t.add_note_form.text,callback:function(e){t.$set(t.add_note_form,"text",e)},expression:"add_note_form.text"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.add_note_dlg=!1}}},[t._v("\n\t\t\t\t\t\t\t\t\t\tClose\n\t\t\t\t\t\t\t\t\t")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.addNote}},[t._v("\n\t\t\t\t\t\t\t\t\t\tSave\n\t\t\t\t\t\t\t\t\t")])],1)],1)],1)],1)],1),a("v-card-subtitle",{staticClass:"pt-4"},[a("v-row",[a("v-col",[a("v-text-field",{attrs:{placeholder:"Search","append-icon":"mdi-magnify"},model:{value:t.note_search,callback:function(e){t.note_search=e},expression:"note_search"}})],1),a("v-col",{staticClass:"col-3"},[a("v-menu",{attrs:{"close-on-content-click":!1,transition:"scale-transition"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,o=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"From","prepend-icon":"mdi-calendar",readonly:"",clearable:""},model:{value:t.formattedStartDate,callback:function(e){t.formattedStartDate=e},expression:"formattedStartDate"}},"v-text-field",o,!1),n))]}}]),model:{value:t.menu1,callback:function(e){t.menu1=e},expression:"menu1"}},[a("v-date-picker",{on:{input:function(e){t.menu1=!1}},model:{value:t.start_date,callback:function(e){t.start_date=e},expression:"start_date"}})],1)],1),a("v-col",{staticClass:"col-3"},[a("v-menu",{attrs:{"close-on-content-click":!1,transition:"scale-transition"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,o=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"To","prepend-icon":"mdi-calendar",readonly:"",clearable:""},model:{value:t.formattedEndDate,callback:function(e){t.formattedEndDate=e},expression:"formattedEndDate"}},"v-text-field",o,!1),n))]}}]),model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[a("v-date-picker",{on:{input:function(e){t.menu2=!1}},model:{value:t.end_date,callback:function(e){t.end_date=e},expression:"end_date"}})],1)],1),a("v-col",[a("v-switch",{attrs:{label:t.switch_label(),color:"#B71C1C","hide-details":""},on:{change:t.set_notes_view},model:{value:t.history_switch,callback:function(e){t.history_switch=e},expression:"history_switch"}})],1)],1)],1),a("v-virtual-scroll",{attrs:{items:t.filteredList,"item-height":50,height:"150"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.item;return[a("v-list-item",[a("v-list-item-content",[a("v-list-item-title",{staticClass:"font-weight-thin"},[t._v("\n\t\t\t\t\t\t\t\t\t\tAuthor: "+t._s(n.author.first_name)+" "+t._s(n.author.last_name)+" - "+t._s(n.date)+"\n\t\t\t\t\t\t\t\t\t")]),a("v-list-item-subtitle",[t._v(t._s(n.text))])],1),a("v-list-item-action",[a("v-btn",{attrs:{depressed:"",small:""},on:{click:function(e){return e.stopPropagation(),t.openNoteDialog(n)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\tOpen\n\t\t\t\t\t\t\t\t\t"),a("v-icon",{attrs:{color:"red darken-4",right:""}},[t._v("\n\t\t\t\t\t\t\t\t\t\tmdi-open-in-new\n\t\t\t\t\t\t\t\t\t")])],1)],1)],1)]}}])})],1)]],2)],1),a("v-dialog",{attrs:{"max-width":"600px"},model:{value:t.partner_edit_dlg,callback:function(e){t.partner_edit_dlg=e},expression:"partner_edit_dlg"}},[a("v-card",[a("v-form",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Partner Information")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"6",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Agency Name*",required:""},model:{value:t.partner.name,callback:function(e){t.$set(t.partner,"name",e)},expression:"partner.name"}})],1)],1),a("v-row",[a("v-label",[t._v("Critical Relationship Information")]),a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-textarea",{attrs:{solo:""},model:{value:t.partner_secondary_info.critical_relationship_information,callback:function(e){t.$set(t.partner_secondary_info,"critical_relationship_information",e)},expression:"partner_secondary_info.critical_relationship_information"}})],1)],1),a("v-row",[a("v-label",[t._v("Services")]),a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-textarea",{attrs:{solo:""},model:{value:t.partner_secondary_info.services,callback:function(e){t.$set(t.partner_secondary_info,"services",e)},expression:"partner_secondary_info.services"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Street Number"},model:{value:t.partner.street_number,callback:function(e){t.$set(t.partner,"street_number",e)},expression:"partner.street_number"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Street Name"},model:{value:t.partner.street_name,callback:function(e){t.$set(t.partner,"street_name",e)},expression:"partner.street_name"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"3",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"City"},model:{value:t.partner.city,callback:function(e){t.$set(t.partner,"city",e)},expression:"partner.city"}})],1),a("v-col",{attrs:{cols:"2"}},[a("v-text-field",{attrs:{label:"State"},model:{value:t.partner.state,callback:function(e){t.$set(t.partner,"state",e)},expression:"partner.state"}})],1),a("v-col",{attrs:{cols:"3"}},[a("v-text-field",{attrs:{label:"Zip"},model:{value:t.partner.zip,callback:function(e){t.$set(t.partner,"zip",e)},expression:"partner.zip"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:"County"},model:{value:t.partner.county,callback:function(e){t.$set(t.partner,"county",e)},expression:"partner.county"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:"Website"},model:{value:t.partner.website,callback:function(e){t.$set(t.partner,"website",e)},expression:"partner.website"}})],1)],1)],1),a("small",[t._v("*indicates required field")])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.partner_edit_dlg=!1}}},[t._v("\n              Close\n            ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.updatePartner}},[t._v("\n              Save\n            ")])],1)],1)],1)],1),a("v-dialog",{attrs:{"max-width":"600px"},model:{value:t.assign_poc_dlg,callback:function(e){t.assign_poc_dlg=e},expression:"assign_poc_dlg"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Assign Point of Contact")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-autocomplete",{attrs:{items:t.all_points_of_contact,"item-text":"name","item-value":"value","return-object":""},on:{change:t.updateSelectedPointOfContact}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.assign_poc_dlg=!1}}},[t._v("\n            Close\n          ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.updatePointOfContact}},[t._v("\n            Save\n          ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"600px"},model:{value:t.assign_mgr_dlg,callback:function(e){t.assign_mgr_dlg=e},expression:"assign_mgr_dlg"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Assign Relationship Manager")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-autocomplete",{attrs:{label:"Relationship Manager",items:t.all_relationship_managers,"item-text":"name","item-value":"value","return-object":""},on:{change:t.updateSelectedManager}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.assign_mgr_dlg=!1}}},[t._v("\n            Close\n          ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.updateRelationshipManager}},[t._v("\n            Save\n          ")])],1)],1)],1)],1)},ot=[],rt=(a("6762"),a("2fdb"),a("28a5"),a("768b")),it=function(){function t(){Object(D["a"])(this,t)}return Object(E["a"])(t,[{key:"getAll",value:function(t){return N.get("pocs/".concat(t))}},{key:"create",value:function(t){return N.post("/pocs",t)}},{key:"update",value:function(t,e,a){return N.put("/pocs/".concat(t,"/").concat(e),a)}},{key:"delete",value:function(t,e){return N.delete("/pocs/".concat(t,"/").concat(e))}},{key:"deleteAll",value:function(t){return N.delete("/pocs/".concat(t))}}]),t}(),st=new it,lt=function(){function t(){Object(D["a"])(this,t)}return Object(E["a"])(t,[{key:"getAll",value:function(){return N.get("relationship_managers")}},{key:"get",value:function(t){return N.get("/relationship_managers/".concat(t))}},{key:"create",value:function(t){return N.post("/relationship_managers",t)}},{key:"update",value:function(t,e,a){return N.put("/relationship_managers/".concat(t,"/").concat(e),a)}},{key:"delete",value:function(t){return N.delete("/relationship_managers/".concat(t))}},{key:"deleteAll",value:function(){return N.delete("/relationship_managers")}}]),t}(),ct=new lt,dt=function(){function t(){Object(D["a"])(this,t)}return Object(E["a"])(t,[{key:"getAll",value:function(){return N.get("notes")}},{key:"get",value:function(t){return N.get("/notes/".concat(t))}},{key:"create",value:function(t){return N.post("/notes",t)}},{key:"update",value:function(t,e){return N.put("/notes/".concat(t),e)}},{key:"delete",value:function(t){return N.delete("/notes/".concat(t))}},{key:"deleteAll",value:function(){return N.delete("/notes")}}]),t}(),ut=new dt,pt=function(){function t(){Object(D["a"])(this,t)}return Object(E["a"])(t,[{key:"getAll",value:function(t){return N.get("files/organization/".concat(t))}},{key:"get",value:function(t){return N.get("/files/".concat(t))}},{key:"upload",value:function(t){return N.post("/files",t,{headers:{"Content-Type":"multipart/form-data"}})}},{key:"download",value:function(t,e){return N.get("/files/".concat(t),e)}},{key:"update",value:function(t,e){return N.put("/files/".concat(t),e)}},{key:"delete",value:function(t){return N.delete("/files/".concat(t))}},{key:"deleteAll",value:function(){return N.delete("/files")}}]),t}(),_t=new pt,vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{"max-width":"600px"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"body-3 font-weight-light"})]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{staticClass:"col-12"},[a("p",{staticClass:"body-2"},[t._v(t._s(t.item.text))])])],1),a("v-row",[a("div",{staticClass:"body-3 font-weight-light"},[a("p",{staticClass:"text-capitalize"},[t._v(t._s(t.item.type))])])])],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(e){return t.deleteNote(t.item)}}},[t._v("\n\t\tDelete\n\t")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){e.stopPropagation(),t.show=!1}}},[t._v("\n\t\t\tClose\n\t")])],1)],1)],1)},mt=[],ft={props:{value:Boolean,item:Object},methods:{deleteNote:function(t){this.$emit("input",!1),this.$parent.deleteNote(t)}},computed:{show:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}}},ht=ft,gt=Object(l["a"])(ht,vt,mt,!1,null,null,null),bt=gt.exports;d()(gt,{VBtn:B["a"],VCard:H["a"],VCardActions:J["a"],VCardText:J["c"],VCardTitle:J["d"],VCol:w["a"],VContainer:C["a"],VDialog:W["a"],VRow:P["a"],VSpacer:m["a"]});var xt=function(){function t(){Object(D["a"])(this,t)}return Object(E["a"])(t,[{key:"getAll",value:function(){return N.get("contacts")}},{key:"get",value:function(t){return N.get("/contacts/".concat(t))}},{key:"create",value:function(t){return N.post("/contacts",t)}},{key:"update",value:function(t,e){return N.put("/contacts/".concat(t),e)}},{key:"delete",value:function(t){return N.delete("/contacts/".concat(t))}},{key:"deleteAll",value:function(){return N.delete("/contacts")}}]),t}(),yt=new xt,kt=function(){function t(){Object(D["a"])(this,t)}return Object(E["a"])(t,[{key:"getAll",value:function(){return N.get("users")}},{key:"get",value:function(t){return N.get("/users/".concat(t))}},{key:"getByEmail",value:function(t){return N.get("/users/email/".concat(t))}},{key:"create",value:function(t){return N.post("/users",t)}},{key:"update",value:function(t,e){return N.put("/users/".concat(t),e)}},{key:"delete",value:function(t){return N.delete("/users/".concat(t))}}]),t}(),wt=new kt,Ct=0,Pt=1,Vt=2,zt=3,St={name:"partner",components:{NoteDialog:bt},data:function(){return{showNoteDialog:!1,partner:"",partner_edit_dlg:!1,partner_secondary_info:"",assign_mgr_dlg:!1,updated_relationship_manager:"",all_relationship_managers:[],organization_relationship_managers:[],assign_poc_dlg:!1,updated_point_of_contact:"",all_points_of_contact:[],organization_points_of_contact:[],files:[],uploadedFiles:[],uploadError:null,currentStatus:null,uploadFieldName:"files",file_upload:"",upload_disabled:!0,search:"",view_note_item:{},note_search:"",history_switch:!0,notes:[],add_note_dlg:!1,valid_note:!0,note_text_rule:[function(t){return!!t||"Text is required"}],add_note_form:{types:["General","Contact"],text:"",type:"General"},view_note_dlg:!1,notes_type_selected:{general:!1,contact:!0},menu1:!1,menu2:!1,start_date:"",end_date:"",formattedStartDate:"",formattedEndDate:""}},watch:{start_date:function(t){this.formattedStartDate=this.formatDate(this.start_date)},end_date:function(t){this.formattedEndDate=this.formatDate(this.end_date)}},methods:{openDialog:function(t){switch(t){case"RM":this.assign_mgr_dlg=!0;break;case"POC":this.assign_poc_dlg=!0;break;case"Edit":this.partner_edit_dlg=!0;break}},close_note_dlg:function(){this.view_note_dlg=!1},openNoteDialog:function(t){this.showNoteDialog=!0,this.view_note_item=t},setModal:function(t){this.view_note_item=t,this.open_note_dlg()},switch_label:function(){return this.history_switch?"Contact History":"General History"},addNote:function(t){var e=this;if(this.$refs.new_note_form.validate()){var a={organizationId:this.partner.id,personId:"5693164c-5da4-4d07-ad24-d9f39befc823",text:this.add_note_form.text,type:this.add_note_form.type.toLowerCase()};ut.create(a).then((function(t){e.setPartner(e.partner.id)})).catch((function(t){console.log(t)})),this.add_note_form.text="",this.add_note_dlg=!1}},deleteNote:function(t){var e=this;ut.delete(t.id).then((function(t){e.setPartner(e.partner.id)})).catch((function(t){console.log(t)})),this.showNoteDialog=!1},set_notes_view:function(){this.notes_type_selected.general=!this.history_switch,this.notes_type_selected.contact=this.history_switch},downloadFile:function(t){var e={fileId:t.item.id};_t.download(t.item.filepath,e).then((function(t){var e=window.URL.createObjectURL(new Blob([t.data])),a=document.createElement("a");a.href=e,a.setAttribute("download","file.pdf"),document.body.appendChild(a),a.click()})).catch((function(t){console.log(t)}))},deleteFile:function(t){var e=this,a={filePath:t.item.filePath};_t.delete(t.item.id,a).then((function(t){e.populateFiles(e.partner.id)})).catch((function(t){console.log(t)}))},reset:function(){this.currentStatus=Ct,this.uploadedFiles=[],this.uploadError=null},uploadFile:function(){var t=this,e=new FormData;e.append("file",this.file_upload),e.append("organizationId",this.partner.id),e.append("personId","5693164c-5da4-4d07-ad24-d9f39befc823"),this.formData=e,this.currentStatus=Pt,_t.upload(this.formData).then((function(e){t.uploadedFiles=[].concat(e),t.currentStatus=Vt})).catch((function(e){t.uploadError=e.response,t.currentStatus=zt})),this.formData="",this.upload_disabled=!0,this.populateFiles(this.partner.id)},filesChange:function(t){this.file_upload=t,this.upload_disabled=!1},populateFiles:function(t){var e=this;_t.getAll(t).then((function(t){e.files=t.data.map((function(t){var e=Intl.DateTimeFormat("en-US").format(new Date(t.createdAt));return{filepath:t.filePath.substr(t.filePath.indexOf("/")+1,t.filePath.length),date:e,author:t.person.first_name+" "+t.person.last_name,name:t.fileName,id:t.id}}))})).catch((function(t){console.log(t)}))},updatePartner:function(){this.partner_edit_dlg=!1;var t={name:this.partner.name,street_number:this.partner.street_number,street_name:this.partner.street_name,city:this.partner.city,state:this.partner.state,zip:this.partner.zip,county:this.partner.county,website:this.partner.website,public_safety:this.partner.public_safety,services:this.partner.partner.services,critical_relationship_information:this.partner.partner.critical_relationship_information};L.update(this.partner.id,t).then((function(t){})).catch((function(t){console.log(t)}))},setPartner:function(){var t=this;L.get(this.$route.params.organizationId).then((function(e){t.notes=e.data.notes.map((function(t){var e=Intl.DateTimeFormat("en-US").format(new Date(t.createdAt));return{id:t.id,text:t.text,date:e,author:t.person,type:t.type}})),st.getAll(e.data.id).then(t.setPOC).catch((function(t){console.log(t)})),t.partner=e.data,t.organization_relationship_managers=e.data.relationship_managers,t.populateFiles(t.partner.id),t.partner_secondary_info=e.data.partner})).catch((function(t){console.log(t.message)}))},setPOC:function(t){this.organization_points_of_contact=t.data},populateRelationshipManagersList:function(){var t=this;wt.getAll().then((function(e){t.all_relationship_managers=e.data.map((function(t){return{name:t.first_name+" "+t.last_name,value:t.id}}))})).catch((function(t){console.log(t)}))},updateSelectedManager:function(t){this.updated_relationship_manager={value:t.value}},updateRelationshipManager:function(){var t=this;this.assign_mgr_dlg=!1;var e=this.partner.id,a={organizationId:e,personId:this.updated_relationship_manager.value};if(0!=this.partner.relationship_managers.length){var n=this.partner.relationship_managers[0].personId;ct.update(e,n,a).then((function(e){t.partner.relationship_managers=e.data,t.setPartner()})).catch((function(t){console.log(t)}))}else ct.create(a).then((function(e){t.partner.relationship_managers=e.data,t.setPartner()})).catch((function(t){console.log(t)}))},populatePointOfContactList:function(){var t=this;yt.getAll().then((function(e){t.all_points_of_contact=e.data.map((function(t){return{name:t.first_name+" "+t.last_name,value:t.id}}))})).catch((function(t){console.log(t)}))},updateSelectedPointOfContact:function(t){this.updated_point_of_contact={value:t.value}},updatePointOfContact:function(){var t=this;this.assign_poc_dlg=!1;var e=this.partner.id,a={organizationId:e,personId:this.updated_point_of_contact.value};if(0!=this.organization_points_of_contact){var n=this.organization_points_of_contact[0].id;st.update(e,n,a).then((function(e){t.setPartner()})).catch((function(t){console.log(t)}))}else st.create(a).then((function(t){console.log(t)})).catch((function(t){console.log(t)}))},formatDate:function(t){if(!t)return null;var e=t.split("-"),a=Object(rt["a"])(e,3),n=a[0],o=a[1],r=a[2];return"".concat(o,"/").concat(r,"/").concat(n)}},computed:{headers:function(){var t=[{text:"File Name",value:"name",width:"80px"},{text:"Date",value:"date",width:"80px"},{text:"Author",value:"author",width:"100px"},{text:"",value:"download",width:"100px"},{text:"",value:"remove",width:"100px"}];return t},filteredList:function(){var t=this;return this.notes.filter((function(e){var a=!0,n=!0,o=new Date(e.date).toISOString().substr(0,10);if(""!==t.formattedStartDate&&null!==t.formattedStartDate&&(a=new Date(t.formattedStartDate).toISOString().substr(0,10)<o),""!==t.formattedEndDate&&null!==t.formattedEndDate&&(n=new Date(t.formattedEndDate).toISOString().substr(0,10)>o),t.notes_type_selected[e.type])return(e.author.first_name.toLowerCase().includes(t.note_search.toLowerCase())||e.author.last_name.toLowerCase().includes(t.note_search.toLowerCase()))&&a&&n}))}},mounted:function(){this.reset(),this.setPartner(),this.populateRelationshipManagersList(),this.populatePointOfContactList()}},It=St,Dt=(a("2820"),a("c6a6")),Et=a("2e4b"),Ot=a("24c9"),$t=a("da13"),Nt=a("1800"),At=a("5d23"),Ft=a("e449"),Rt=a("b73d"),Lt=a("a844"),jt=a("0de5"),Tt=Object(l["a"])(It,nt,ot,!1,null,"1732c7cc",null),Mt=Tt.exports;d()(Tt,{VAutocomplete:Dt["a"],VBtn:B["a"],VCard:H["a"],VCardActions:J["a"],VCardSubtitle:J["b"],VCardText:J["c"],VCardTitle:J["d"],VCol:w["a"],VContainer:C["a"],VDatePicker:Et["a"],VDialog:W["a"],VForm:Y["a"],VHover:X["a"],VIcon:K["a"],VLabel:Ot["a"],VListItem:$t["a"],VListItemAction:Nt["a"],VListItemContent:At["a"],VListItemSubtitle:At["b"],VListItemTitle:At["c"],VMenu:Ft["a"],VRow:P["a"],VSpacer:m["a"],VSwitch:Rt["a"],VTextField:tt["a"],VTextarea:Lt["a"],VVirtualScroll:jt["a"]});var qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("div",{staticClass:"red--text text--darken-4 page-title"},[t._v("Relationship")]),a("v-row",[a("v-col",{staticClass:"col-4"},[a("v-card",{staticClass:"mb-3",attrs:{elevation:"3"}},[a("v-card-title",[a("a",{staticClass:"btn font-weight-bold blue-grey--text text-capitalize",on:{click:function(e){return t.openDialog("Edit")}}},[t._v("\n                    "+t._s(t.relationship.name)+"\n                  ")])]),a("v-card-subtitle",{staticStyle:{"margin-bottom":"-30px"}},[a("address",{staticClass:"text-capitalize"},[t._v("\n                    "+t._s(t.relationship.street_number)+" "+t._s(t.relationship.street_name)+"\n                    "+t._s(t.relationship.city)+", "+t._s(t.relationship.state)+" "+t._s(t.relationship.zip)+"\n                    "+t._s(t.relationship.county)+" County\n                  ")]),a("a",{staticClass:"red--text text--darken-3  body-3 mt-3",attrs:{href:t.relationship.website}},[t._v("\n                    "+t._s(t.relationship.website)+"\n                  ")]),a("br"),a("span",[t._v(" Status: "+t._s(t.relationship_secondary_info.status)+" ")])]),a("v-card-text",[a("br",{staticClass:"mt-3"}),a("a",{staticClass:"btn font-weight-bold blue-grey--text",on:{click:function(e){return t.openDialog("Add POC")}}},[t._v("\n              Add New Point of Contact\n            ")]),t._l(t.organization_points_of_contact,(function(e){return a("div",{key:e.id},[a("a",{staticClass:"btn font-weight-bold blue-grey--text",on:{click:function(a){return t.openDialog("Edit POC",e.id)}}},[a("span",{ref:"first_name_"+e.personId,refInFor:!0},[t._v(t._s(e.first_name)+" ")]),a("span",{ref:"last_name_"+e.personId,refInFor:!0},[t._v(t._s(e.last_name)+" ")])]),t._l(e.phones,(function(e){return a("span",{key:e.id,staticClass:"font-weight-thin"},[a("span",{ref:"phone_"+e.id,refInFor:!0},[1==e.isPrimary?a("span",[a("br"),t._v(t._s(e.number)+"(P)\n                    ")]):t._e()])])})),t._l(e.phones,(function(e){return a("span",{key:e.id,staticClass:"font-weight-thin"},[a("span",{ref:"phone_"+e.id,refInFor:!0},[0==e.isPrimary?a("span",[t._v("\n                     | "+t._s(e.number)+"\n                    ")]):t._e()])])})),t._l(e.emails,(function(e){return a("span",{key:e.id,staticClass:"font-weight-thin"},[a("span",{ref:"email_"+e.id,refInFor:!0},[1==e.isPrimary?a("span",[a("br"),t._v(t._s(e.address)+"(P)\n                    ")]):t._e()])])})),t._l(e.emails,(function(e){return a("span",{key:e.id,staticClass:"font-weight-thin"},[a("span",{ref:"email_"+e.id,refInFor:!0},[0==e.isPrimary?a("span",[t._v("\n                       | "+t._s(e.address)+"\n                    ")]):t._e()])])}))],2)}))],2)],1),a("v-card",[a("v-card-text",[0==t.organization_relationship_managers.length?a("span",[a("a",{staticClass:"btn font-weight-bold blue-grey--text",on:{click:function(e){return t.openDialog("RM")}}},[t._v("\n              Assign an Organization Manager\n              ")])]):t._e(),t._l(t.organization_relationship_managers,(function(e){return a("div",{key:e.id},[a("a",{staticClass:"btn font-weight-bold blue-grey--text",on:{click:function(e){return t.openDialog("RM")}}},[a("div",{staticClass:"font-weight-black mt-3"},[a("strong",[a("span",{ref:"relationship_manager_"+e.personId,refInFor:!0},[t._v("\n                      "+t._s(e.person.first_name)+" "+t._s(e.person.last_name)+" (Relationship Manager)\n                    ")])])])]),t._l(e.person.phones,(function(e){return a("div",{key:e.number,staticClass:"font-weight-thin"},[t._v(t._s(e.number))])})),t._l(e.person.emails,(function(e){return a("div",{key:e.address,staticClass:"font-weight-thin"},[t._v(" "+t._s(e.address))])}))],2)}))],2)],1)],1),a("v-col",[a("POCDialog",{attrs:{poc_id:t.update_poc_id,poc_title:t.poc_dlg_title,poc_dlg_action:t.poc_dlg_action},model:{value:t.showPOCDialog,callback:function(e){t.showPOCDialog=e},expression:"showPOCDialog"}}),a("NoteDialog",{attrs:{item:t.view_note_item},model:{value:t.showNoteDialog,callback:function(e){t.showNoteDialog=e},expression:"showNoteDialog"}}),[a("v-card",[a("v-card-title",{staticClass:"white--text red darken-4"},[t._v("\n              Notes:\n\n              "),a("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,o=e.attrs;return[a("v-hover",{attrs:{"open-delay":"200"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.hover;return[a("v-btn",t._g(t._b({staticClass:"text--primary",class:{"on-hover":r},attrs:{color:"white",fab:"",small:"",elevation:r?16:2}},"v-btn",o,!1),n),[a("v-icon",[t._v("\n                        mdi-plus\n                      ")])],1)]}}],null,!0)})]}}]),model:{value:t.add_note_dlg,callback:function(e){t.add_note_dlg=e},expression:"add_note_dlg"}},[a("v-form",{ref:"new_note_form",model:{value:t.valid_note,callback:function(e){t.valid_note=e},expression:"valid_note"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Note")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{staticClass:"col-3"},[a("v-autocomplete",{attrs:{items:t.add_note_form.types,label:"Type"},model:{value:t.add_note_form.type,callback:function(e){t.$set(t.add_note_form,"type",e)},expression:"add_note_form.type"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-textarea",{attrs:{rules:t.note_text_rule},model:{value:t.add_note_form.text,callback:function(e){t.$set(t.add_note_form,"text",e)},expression:"add_note_form.text"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.add_note_dlg=!1}}},[t._v("\n                        Close\n                      ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.addNote}},[t._v("\n                        Save\n                      ")])],1)],1)],1)],1)],1),a("v-card-subtitle",{staticClass:"pt-4"},[a("v-row",[a("v-col",[a("v-text-field",{attrs:{placeholder:"Search","append-icon":"mdi-magnify"},model:{value:t.note_search,callback:function(e){t.note_search=e},expression:"note_search"}})],1),a("v-col",{staticClass:"col-3"},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,o=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"Start Date","prepend-icon":"mdi-calendar",readonly:"",clearable:""},model:{value:t.formattedStartDate,callback:function(e){t.formattedStartDate=e},expression:"formattedStartDate"}},"v-text-field",o,!1),n))]}}]),model:{value:t.menu1,callback:function(e){t.menu1=e},expression:"menu1"}},[a("v-date-picker",{on:{input:function(e){t.menu1=!1}},model:{value:t.start_date,callback:function(e){t.start_date=e},expression:"start_date"}})],1)],1),a("v-col",{staticClass:"col-3"},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,o=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"End Date","prepend-icon":"mdi-calendar",readonly:"",clearable:""},model:{value:t.formattedEndDate,callback:function(e){t.formattedEndDate=e},expression:"formattedEndDate"}},"v-text-field",o,!1),n))]}}]),model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[a("v-date-picker",{on:{input:function(e){t.menu2=!1}},model:{value:t.end_date,callback:function(e){t.end_date=e},expression:"end_date"}})],1)],1),a("v-col",[a("v-switch",{attrs:{label:t.switch_label(),color:"#B71C1C","hide-details":""},on:{change:t.set_notes_view},model:{value:t.history_switch,callback:function(e){t.history_switch=e},expression:"history_switch"}})],1)],1),a("v-row")],1),a("v-virtual-scroll",{attrs:{items:t.filteredList,"item-height":50,height:"150"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.item;return[a("v-list-item",[a("v-list-item-content",[a("v-list-item-title",{staticClass:"font-weight-thin"},[t._v("\n            \t\t\t\t\t\t\t\t\t\tAuthor: "+t._s(n.author.first_name)+" "+t._s(n.author.last_name)+" - "+t._s(n.date)+"\n            \t\t\t\t\t\t\t\t\t")]),a("v-list-item-subtitle",[t._v(t._s(n.text))])],1),a("v-list-item-action",[a("v-btn",{attrs:{depressed:"",small:""},on:{click:function(e){return e.stopPropagation(),t.openNoteDialog(n)}}},[t._v("\n            \t\t\t\t\t\t\t\t\t\tOpen\n            \t\t\t\t\t\t\t\t\t"),a("v-icon",{attrs:{color:"red darken-4",right:""}},[t._v("\n            \t\t\t\t\t\t\t\t\t\tmdi-open-in-new\n            \t\t\t\t\t\t\t\t\t")])],1)],1)],1)]}}])})],1)]],2)],1),a("v-dialog",{attrs:{"max-width":"600px"},model:{value:t.relationship_edit_dlg,callback:function(e){t.relationship_edit_dlg=e},expression:"relationship_edit_dlg"}},[a("v-card",[a("v-form",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Relationship Information")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"6",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Agency Name*",required:""},model:{value:t.relationship.name,callback:function(e){t.$set(t.relationship,"name",e)},expression:"relationship.name"}})],1),a("v-col",{attrs:{cols:"3",sm:"3",md:"3"}},[a("v-select",{staticClass:"text-capitalize",attrs:{label:"Status",items:t.status_options},model:{value:t.current_status,callback:function(e){t.current_status=e},expression:"current_status"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Street Number"},model:{value:t.relationship.street_number,callback:function(e){t.$set(t.relationship,"street_number",e)},expression:"relationship.street_number"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Street Name"},model:{value:t.relationship.street_name,callback:function(e){t.$set(t.relationship,"street_name",e)},expression:"relationship.street_name"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"3",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"City"},model:{value:t.relationship.city,callback:function(e){t.$set(t.relationship,"city",e)},expression:"relationship.city"}})],1),a("v-col",{attrs:{cols:"2"}},[a("v-text-field",{attrs:{label:"State"},model:{value:t.relationship.state,callback:function(e){t.$set(t.relationship,"state",e)},expression:"relationship.state"}})],1),a("v-col",{attrs:{cols:"3"}},[a("v-text-field",{attrs:{label:"Zip"},model:{value:t.relationship.zip,callback:function(e){t.$set(t.relationship,"zip",e)},expression:"relationship.zip"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:"County"},model:{value:t.relationship.county,callback:function(e){t.$set(t.relationship,"county",e)},expression:"relationship.county"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:"Website"},model:{value:t.relationship.website,callback:function(e){t.$set(t.relationship,"website",e)},expression:"relationship.website"}})],1)],1)],1),a("small",[t._v("*indicates required field")])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(e){return t.openDialog("Delete")}}},[t._v("\n              Delete\n            ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.relationship_edit_dlg=!1}}},[t._v("\n              Close\n            ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.updateRelationship}},[t._v("\n              Save\n            ")])],1)],1)],1)],1),a("v-dialog",{attrs:{"max-width":"300"},model:{value:t.delete_relationship_dialog,callback:function(e){t.delete_relationship_dialog=e},expression:"delete_relationship_dialog"}},[a("v-card",[a("v-card-text",[t._v("\n          Are you sure you want to delete this relationship?\n        ")]),a("v-divider"),a("v-card-actions",[a("v-btn",{attrs:{text:"",color:"red text-darken-1"},on:{click:t.deleteRelationship}},[t._v("\n            Yes\n          ")]),a("v-btn",{attrs:{text:"",color:"blue text-darken-1"},on:{click:function(e){t.delete_relationship_dialog=!1}}},[t._v("\n            No\n          ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"600px"},model:{value:t.assign_mgr_dlg,callback:function(e){t.assign_mgr_dlg=e},expression:"assign_mgr_dlg"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Assign Relationship Manager")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-autocomplete",{attrs:{label:"Relationship Manager",items:t.all_relationship_managers,"item-text":"name","item-value":"value","return-object":""},on:{change:t.updateSelectedManager}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.assign_mgr_dlg=!1}}},[t._v("\n            Close\n          ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.updateRelationshipManager}},[t._v("\n            Save\n          ")])],1)],1)],1)],1)},Ut=[],Bt=function(){function t(){Object(D["a"])(this,t)}return Object(E["a"])(t,[{key:"getAll",value:function(){return N.get("persons")}},{key:"get",value:function(t){return N.get("/persons/".concat(t))}},{key:"create",value:function(t){return N.post("/persons",t)}},{key:"update",value:function(t,e){return N.put("/persons/".concat(t),e)}},{key:"delete",value:function(t){return N.delete("/persons/".concat(t))}},{key:"deleteAll",value:function(){return N.delete("/persons")}}]),t}(),Ht=new Bt,Jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-dialog",{attrs:{"max-width":"600px"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("v-card",[a("v-form",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.poc_title))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"6",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"First Name*",required:""},model:{value:t.first_name,callback:function(e){t.first_name=e},expression:"first_name"}})],1),a("v-col",{attrs:{cols:"6",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Last Name*",required:""},model:{value:t.last_name,callback:function(e){t.last_name=e},expression:"last_name"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Street Number"},model:{value:t.street_number,callback:function(e){t.street_number=e},expression:"street_number"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Street Name"},model:{value:t.street_name,callback:function(e){t.street_name=e},expression:"street_name"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"3",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"City"},model:{value:t.city,callback:function(e){t.city=e},expression:"city"}})],1),a("v-col",{attrs:{cols:"2"}},[a("v-text-field",{attrs:{label:"State"},model:{value:t.state,callback:function(e){t.state=e},expression:"state"}})],1),a("v-col",{attrs:{cols:"3"}},[a("v-text-field",{attrs:{label:"Zip"},model:{value:t.zip,callback:function(e){t.zip=e},expression:"zip"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:"Primary Phone"},model:{value:t.primary_phone,callback:function(e){t.primary_phone=e},expression:"primary_phone"}})],1),a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:"Secondary Phone"},model:{value:t.secondary_phone,callback:function(e){t.secondary_phone=e},expression:"secondary_phone"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:"Primary Email"},model:{value:t.primary_email,callback:function(e){t.primary_email=e},expression:"primary_email"}})],1),a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:"Secondary Email"},model:{value:t.secondary_email,callback:function(e){t.secondary_email=e},expression:"secondary_email"}})],1)],1)],1),a("small",[t._v("*indicates required field")])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(e){return t.openDialog("Delete")}}},[t._v("\n            Delete\n          ")]),a("v-btn",{directives:[{name:"show",rawName:"v-show",value:"Create"==t.poc_dlg_action,expression:"poc_dlg_action=='Create'"}],attrs:{color:"blue darken-1",text:""},on:{click:t.createPOC}},[t._v("\n            Save\n          ")]),a("v-btn",{directives:[{name:"show",rawName:"v-show",value:"Edit"==t.poc_dlg_action,expression:"poc_dlg_action=='Edit'"}],attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.openDialog("Update")}}},[t._v("\n            Edit\n          ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){e.stopPropagation(),t.show=!1}}},[t._v("\n            Close\n          ")])],1)],1)],1)],1),a("v-dialog",{attrs:{"max-width":"300"},model:{value:t.delete_poc_dialog,callback:function(e){t.delete_poc_dialog=e},expression:"delete_poc_dialog"}},[a("v-card",[a("v-card-text",[t._v("\n        Are you sure you want to delete this point of contact?\n      ")]),a("v-divider"),a("v-card-actions",[a("v-btn",{attrs:{text:"",color:"red text-darken-1"},on:{click:t.deletePOC}},[t._v("\n          Yes\n        ")]),a("v-btn",{attrs:{text:"",color:"blue text-darken-1"},on:{click:function(e){t.delete_poc_dialog=!1}}},[t._v("\n          No\n        ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"300"},model:{value:t.update_poc_dialog,callback:function(e){t.update_poc_dialog=e},expression:"update_poc_dialog"}},[a("v-card",[a("v-card-text",[t._v("\n        Save changes?\n      ")]),a("v-divider"),a("v-card-actions",[a("v-btn",{attrs:{text:"",color:"red text-darken-1"},on:{click:t.updatePOC}},[t._v("\n          Yes\n        ")]),a("v-btn",{attrs:{text:"",color:"blue text-darken-1"},on:{click:function(e){t.update_poc_dialog=!1}}},[t._v("\n          No\n        ")])],1)],1)],1)],1)},Zt=[],Gt={props:{value:Boolean,poc_id:String,poc_title:String,poc_dlg_action:String},data:function(){return{update_poc_dialog:!1,delete_poc_dialog:!1,save_poc_dialog:!1,first_name:"",last_name:"",street_number:"",street_name:"",city:"",state:"",zip:"",primary_phone:"",secondary_phone:"",primary_email:"",secondary_email:""}},methods:{openDialog:function(t){switch(t){case"Save":this.save_poc_dialog=!0;break;case"Delete":this.delete_poc_dialog=!0;break;case"Update":this.update_poc_dialog=!0;break}},deletePOC:function(){this.delete_poc_dialog=!1,this.$emit("input",!1),this.$parent.deletePOC(this.poc_id)},createPOC:function(){var t={first_name:this.first_name,last_name:this.last_name,street_number:this.street_number,street_name:this.street_name,city:this.city,state:this.state,zip:this.zip,primary_phone:this.primary_phone,secondary_phone:this.secondary_phone,primary_email:this.primary_email,secondary_email:this.secondary_email};this.$emit("input",!1),this.$parent.createPOC(t)},updatePOC:function(){this.update_poc_dialog=!1;var t={first_name:this.first_name,last_name:this.last_name,street_number:this.street_number,street_name:this.street_name,city:this.city,state:this.state,zip:this.zip,primary_phone:this.primary_phone,secondary_phone:this.secondary_phone,primary_email:this.primary_email,secondary_email:this.secondary_email};this.$emit("input",!1),this.$parent.updatePOC(this.poc_id,t)}},computed:{show:{get:function(){var t=this;return"Edit"==this.poc_dlg_action&&Ht.get(this.poc_id).then((function(e){t.first_name=e.data.first_name,t.last_name=e.data.last_name,t.street_number=e.data.street_number,t.street_name=e.data.street_name,t.city=e.data.city,t.state=e.data.state,t.zip=e.data.zip,e.data.phones.forEach((function(e){e.isPrimary?t.primary_phone=e.number:t.secondary_phone=e.number})),e.data.emails.forEach((function(e){e.isPrimary?t.primary_email=e.address:t.secondary_email=e.address}))})).catch((function(t){console.log(t)})),this.value},set:function(t){this.$emit("input",t)}}}},Wt=Gt,Yt=a("ce7e"),Xt=Object(l["a"])(Wt,Jt,Zt,!1,null,null,null),Kt=Xt.exports;d()(Xt,{VBtn:B["a"],VCard:H["a"],VCardActions:J["a"],VCardText:J["c"],VCardTitle:J["d"],VCol:w["a"],VContainer:C["a"],VDialog:W["a"],VDivider:Yt["a"],VForm:Y["a"],VRow:P["a"],VSpacer:m["a"],VTextField:tt["a"]});var Qt=function(){function t(){Object(D["a"])(this,t)}return Object(E["a"])(t,[{key:"getAll",value:function(){return N.get("emails")}},{key:"get",value:function(t){return N.get("/emails/".concat(t))}},{key:"create",value:function(t){return N.post("/emails",t)}},{key:"update",value:function(t,e){return N.put("/emails/".concat(t),e)}},{key:"delete",value:function(t){return N.delete("/emails/".concat(t))}},{key:"deleteAll",value:function(){return N.delete("/emails")}}]),t}(),te=new Qt,ee=function(){function t(){Object(D["a"])(this,t)}return Object(E["a"])(t,[{key:"getAll",value:function(){return N.get("phones")}},{key:"get",value:function(t){return N.get("/phones/".concat(t))}},{key:"create",value:function(t){return N.post("/phones",t)}},{key:"update",value:function(t,e){return N.put("/phones/".concat(t),e)}},{key:"delete",value:function(t){return N.delete("/phones/".concat(t))}},{key:"deleteAll",value:function(){return N.delete("/phones")}}]),t}(),ae=new ee,ne=0,oe=1,re=2,ie=3,se={name:"relationship",components:{POCDialog:Kt,NoteDialog:bt},data:function(){return{confirm_delete:!1,showNoteDialog:!1,relationship:"",relationship_edit_dlg:!1,relationship_secondary_info:"",delete_relationship_dialog:"",status_options:["Hot","Warm","Cold"],current_status:"",assign_mgr_dlg:!1,updated_relationship_manager:"",all_relationship_managers:[],organization_relationship_managers:[],delete_poc_dialog:!1,save_poc_dialog:!1,showPOCDialog:!1,poc:{},update_poc_id:"",edit_contact_id:"",poc_dlg_title:"",poc_dlg_action:"",updated_point_of_contact:"",all_points_of_contact:[],organization_points_of_contact:[],files:[],uploadedFiles:[],uploadError:null,currentStatus:null,uploadFieldName:"files",file_upload:"",upload_disabled:!0,search:"",view_note_item:{},note_search:"",history_switch:!0,notes:[],add_note_dlg:!1,valid_note:!0,note_text_rule:[function(t){return!!t||"Text is required"}],add_note_form:{types:["General","Contact"],text:"",type:"General"},view_note_dlg:!1,notes_type_selected:{general:!1,contact:!0},menu1:!1,menu2:!1,start_date:(new Date).toISOString().substr(0,10),end_date:(new Date).toISOString().substr(0,10),formattedStartDate:"",formattedEndDate:"",tab:""}},watch:{start_date:function(t){this.formattedStartDate=this.formatDate(this.start_date)},end_date:function(t){this.formattedEndDate=this.formatDate(this.end_date)}},methods:{openDialog:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;switch(t){case"RM":this.assign_mgr_dlg=!0;break;case"Edit POC":this.update_poc_id=e,this.showPOCDialog=!0,this.poc_dlg_title="Edit Point of Contact",this.poc_dlg_action="Edit";break;case"Add POC":this.showPOCDialog=!0,this.poc_dlg_title="Add Point of Contact",this.poc_dlg_action="Create";break;case"Edit":this.relationship_edit_dlg=!0;break;case"Delete":this.relationship_edit_dlg=!1,this.delete_relationship_dialog=!0;break}},close_note_dlg:function(){this.view_note_dlg=!1},openNoteDialog:function(t){this.showNoteDialog=!0,this.view_note_item=t},setModal:function(t){this.view_note_item=t,this.open_note_dlg()},switch_label:function(){return this.history_switch?"Contact History":"General History"},addNote:function(t){var e=this;if(this.$refs.new_note_form.validate()){var a={organizationId:this.relationship.id,personId:"cf198c20-d8f7-4e9a-8a8f-5d982be2938a",text:this.add_note_form.text,type:this.add_note_form.type.toLowerCase()};ut.create(a).then((function(t){e.setRelationship(e.relationship.id)})).catch((function(t){console.log(t)})),this.add_note_form.text="",this.add_note_dlg=!1}},deleteNote:function(t){var e=this;ut.delete(t.id).then((function(t){e.setRelationship(e.relationship.id)})).catch((function(t){console.log(t)})),this.showNoteDialog=!1},set_notes_view:function(){this.notes_type_selected.general=!this.history_switch,this.notes_type_selected.contact=this.history_switch},downloadFile:function(t){var e={fileId:t.item.id};_t.download(t.item.filepath,e).then((function(t){var e=window.URL.createObjectURL(new Blob([t.data])),a=document.createElement("a");a.href=e,a.setAttribute("download","file.pdf"),document.body.appendChild(a),a.click()})).catch((function(t){console.log(t)}))},deleteFile:function(t){var e=this,a={filePath:t.item.filePath};_t.delete(t.item.id,a).then((function(t){e.populateFiles(e.relationship.id)})).catch((function(t){console.log(t)}))},reset:function(){this.currentStatus=ne,this.uploadedFiles=[],this.uploadError=null},uploadFile:function(){var t=this,e=new FormData;e.append("file",this.file_upload),e.append("organizationId",this.relationship.id),e.append("personId","5693164c-5da4-4d07-ad24-d9f39befc823"),this.formData=e,this.currentStatus=oe,_t.upload(this.formData).then((function(e){t.uploadedFiles=[].concat(e),t.currentStatus=re})).catch((function(e){t.uploadError=e.response,t.currentStatus=ie})),this.formData="",this.upload_disabled=!0,this.populateFiles(this.relationship.id)},filesChange:function(t){this.file_upload=t,this.upload_disabled=!1},populateFiles:function(t){var e=this;_t.getAll(t).then((function(t){e.files=t.data.map((function(t){var e=Intl.DateTimeFormat("en-US").format(new Date(t.createdAt));return{filepath:t.filePath.substr(t.filePath.indexOf("/")+1,t.filePath.length),date:e,author:t.person.first_name+" "+t.person.last_name,name:t.fileName,id:t.id}}))})).catch((function(t){console.log(t)}))},deleteRelationship:function(){var t=this;T.delete(this.relationship.id).then((function(e){t.confirm_delete=!1})).catch((function(t){console.log(t)})),this.$router.push({path:"/organizations"}),this.$toasted.show("Organization has been successfully deleted",{theme:"bubble"}).goAway(1e3)},updateRelationship:function(){this.relationship_edit_dlg=!1;var t={name:this.relationship.name,street_number:this.relationship.street_number,street_name:this.relationship.street_name,city:this.relationship.city,state:this.relationship.state,zip:this.relationship.zip,county:this.relationship.county,website:this.relationship.website,public_safety:this.relationship.public_safety,status:this.current_status};T.update(this.relationship.id,t).then((function(t){})).catch((function(t){console.log(t)}))},setRelationship:function(){var t=this;T.get(this.$route.params.organizationId).then((function(e){t.notes=e.data.notes.map((function(t){var e=Intl.DateTimeFormat("en-US").format(new Date(t.createdAt));return{id:t.id,text:t.text,date:e,author:t.person,type:t.type}})),st.getAll(e.data.id).then(t.setPOC).catch((function(t){console.log(t)})),t.relationship=e.data,t.organization_relationship_managers=e.data.relationship_managers,t.populateFiles(t.relationship.id),t.relationship_secondary_info=e.data.relationship,t.current_status=t.relationship_secondary_info.status})).catch((function(t){console.log(t.message)}))},setPOC:function(t){this.organization_points_of_contact=t.data},populateRelationshipManagersList:function(){var t=this;wt.getAll().then((function(e){t.all_relationship_managers=e.data.map((function(t){return{name:t.first_name+" "+t.last_name,value:t.id}}))})).catch((function(t){console.log(t)}))},updateSelectedManager:function(t){this.updated_relationship_manager={value:t.value}},updateRelationshipManager:function(){var t=this;this.assign_mgr_dlg=!1;var e=this.relationship.id,a={organizationId:e,personId:this.updated_relationship_manager.value};if(0!=this.relationship.relationship_managers.length){var n=this.relationship.relationship_managers[0].personId;ct.update(e,n,a).then((function(e){t.relationship.relationship_managers=e.data,t.setRelationship()})).catch((function(t){console.log(t)}))}else ct.create(a).then((function(e){t.relationship.relationship_managers=e.data,t.setRelationship()})).catch((function(t){console.log(t)}))},updateContactInfo:function(t,e,a){var n=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;e.isPrimary=t,0!=o?a.update(o,e).then((function(t){n.setRelationship()})).catch((function(t){console.log(t)})):a.create(e).then((function(t){n.setRelationship()})).catch((function(t){console.log(t)}))},confirmDeletePOCDialog:function(){},confirmPOCChangesDialog:function(){},deletePOC:function(t){var e=this;Ht.get(t).then((function(t){var e=t.data;return e.phones.forEach((function(t){ae.delete(t.id).catch((function(t){console.log(t)}))})),e.emails.forEach((function(t){te.delete(t.id).catch((function(t){console.log(t)}))})),e.id})).then((function(t){console.log("called"),Ht.delete(t).catch((function(t){console.log(t)})),e.setRelationship()})).catch((function(t){console.log(t)}))},updatePOC:function(t,e){var a=this;Ht.get(t).then((function(t){var n=t.data,o={};if(e.primary_phone){o={number:e.primary_phone};var r=n.phones.filter((function(t){return t.isPrimary}));r.length>0?a.updateContactInfo(!0,o,ae,r[0].id):(o.personId=n.id,a.updateContactInfo(!0,o,ae))}if(e.secondary_phone){o={number:e.secondary_phone};var i=n.phones.filter((function(t){return 0==t.isPrimary}));i.length>0?a.updateContactInfo(!1,o,ae,i[0].id):(o.personId=n.id,a.updateContactInfo(!1,o,ae))}var s={};if(e.primary_email){s={address:e.primary_email};var l=n.emails.filter((function(t){return t.isPrimary}));l.length>0?a.updateContactInfo(!0,s,te,l[0].id):(s.personId=n.id,a.updateContactInfo(!0,s,te))}if(e.secondary_email){s={address:e.secondary_email};var c=n.emails.filter((function(t){return 0==t.isPrimary}));c.length>0?a.updateContactInfo(!1,s,te,c[0].id):(s.personId=n.id,a.updateContactInfo(!1,s,te))}})).catch((function(t){console.log(t)})),Ht.update(t,e).then((function(t){})).catch((function(t){console.log(t)}))},createPOC:function(t){var e=this;Ht.create(t).then((function(a){var n=a.data.id,o={personId:n,organizationId:e.relationship.id};if(t.primary_phone){var r={personId:n,number:t.primary_phone,isPrimary:!0};ae.create(r).then((function(t){console.log(t)})).catch((function(t){console.log(t)}))}if(t.secondary_phone){var i={personId:n,number:t.secondary_phone,isPrimary:!1};ae.create(i).then((function(t){console.log(t)})).catch((function(t){console.log(t)}))}if(t.primary_email){var s={personId:n,address:t.primary_email,isPrimary:!0};te.create(s).then((function(t){console.log(t)})).catch((function(t){console.log(t)}))}if(t.secondary_email){var l={personId:n,address:t.secondary_email,isPrimary:!1};te.create(l).then((function(t){console.log(t)})).catch((function(t){console.log(t)}))}st.create(o).then((function(t){console.log("POC Created:\n"+t),console.log(t),e.setRelationship()})).catch((function(t){console.log(t)}))}))},setEditContact:function(t){this.edit_contact_id=t},populatePointOfContactList:function(){var t=this;yt.getAll().then((function(e){t.all_points_of_contact=e.data.map((function(t){return{name:t.first_name+" "+t.last_name,value:t.id}}))})).catch((function(t){console.log(t)}))},updateSelectedPointOfContact:function(t){this.updated_point_of_contact={value:t.value}},addPointOfContact:function(){var t=this;this.assign_poc_dlg=!1;var e=this.relationship.id,a={organizationId:e,personId:this.updated_point_of_contact.value};st.create(a).then((function(e){t.setRelationship()})).catch((function(t){console.log(t)}))},updatePointOfContact:function(){var t=this;this.assign_poc_dlg=!1;var e={},a=this.organization_points_of_contact[0].id;Ht.update(a,e).then((function(e){t.setRelationship(),console.log(e)})).catch((function(t){console.log(t)}))},formatDate:function(t){if(!t)return null;var e=t.split("-"),a=Object(rt["a"])(e,3),n=a[0],o=a[1],r=a[2];return"".concat(o,"/").concat(r,"/").concat(n)}},computed:{headers:function(){var t=[{text:"File Name",value:"name",width:"80px"},{text:"Date",value:"date",width:"80px"},{text:"Author",value:"author",width:"100px"},{text:"",value:"download",width:"100px"},{text:"",value:"remove",width:"100px"}];return t},filteredList:function(){var t=this;return this.notes.filter((function(e){if(null!=e.author){var a=!0,n=!0,o=new Date(e.date).toISOString().substr(0,10);return""!==t.formattedStartDate&&null!==t.formattedStartDate&&(a=new Date(t.formattedStartDate).toISOString().substr(0,10)<o),""!==t.formattedEndDate&&null!==t.formattedEndDate&&(n=new Date(t.formattedEndDate).toISOString().substr(0,10)>o),t.notes_type_selected[e.type]?(e.author.first_name.toLowerCase().includes(t.note_search.toLowerCase())||e.author.last_name.toLowerCase().includes(t.note_search.toLowerCase()))&&a&&n:void 0}}))}},mounted:function(){this.reset(),this.setRelationship(),this.populateRelationshipManagersList(),this.populatePointOfContactList()}},le=se,ce=(a("d8f1"),Object(l["a"])(le,qt,Ut,!1,null,"6336321d",null)),de=ce.exports;d()(ce,{VAutocomplete:Dt["a"],VBtn:B["a"],VCard:H["a"],VCardActions:J["a"],VCardSubtitle:J["b"],VCardText:J["c"],VCardTitle:J["d"],VCol:w["a"],VContainer:C["a"],VDatePicker:Et["a"],VDialog:W["a"],VDivider:Yt["a"],VForm:Y["a"],VHover:X["a"],VIcon:K["a"],VListItem:$t["a"],VListItemAction:Nt["a"],VListItemContent:At["a"],VListItemSubtitle:At["b"],VListItemTitle:At["c"],VMenu:Ft["a"],VRow:P["a"],VSelect:Q["a"],VSpacer:m["a"],VSwitch:Rt["a"],VTextField:tt["a"],VTextarea:Lt["a"],VVirtualScroll:jt["a"]});var ue=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search Table","single-line":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("div",{staticClass:"red--text text--darken-2 page-title"},[t._v("Contacts")]),a("v-row",[a("v-col",{staticClass:"col-12"},[a("v-card",{attrs:{outlined:"",elevation:"3 text-wrap"}},[a("v-card-text",[a("v-data-table",{staticClass:"text-capitalize",attrs:{headers:t.headers,items:t.volunteers,search:t.search,"item-key":"id","multi-sort":""},on:{"click:row":t.nav},scopedSlots:t._u([{key:"item.name",fn:function(e){var n=e.item;return[null!==n.first_name?[a("span",{staticClass:"red--text"},[t._v(t._s(n.name))]),n.public_safety?a("span",[t._v(" (Public Safety)")]):t._e()]:null!==n.partner?[a("span",{staticClass:"purple--text"},[t._v(t._s(n.name))]),n.public_safety?a("span",[t._v(" (Public Safety)")]):t._e()]:t._e()]}},{key:"item.address",fn:function(e){var n=e.item;return[a("address",[a("span",{staticClass:"black--text"},[t._v(t._s(n.address))])])]}},{key:"item.emails",fn:function(e){e.item;return[a("div",[a("span",[t._v("\n        "+t._s(t.email.address)+"\n      ")])])]}},{key:"item.phones",fn:function(e){var n=e.item;return[a("a",{on:{click:function(e){return t.nav(n)}}},[a("div",[t._v("\n        "+t._s(t.phone.number)+"\n      ")])])]}},{key:"item.actions",fn:function(e){var n=e.item;return[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.removePerson(n)}}},[t._v("mdi-delete")])]}}],null,!0)})],1)],1),a("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,o=e.attrs;return[a("v-hover",{attrs:{"open-delay":"200"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.hover;return[a("v-btn",t._g(t._b({class:{"on-hover":r},attrs:{text:"",elevation:r?16:2}},"v-btn",o,!1),n),[t._v("\n      Add Contact\n      "),a("v-icon",[t._v("\n        mdi-plus\n      ")])],1)]}}],null,!0)})]}}]),model:{value:t.add_person_dlg,callback:function(e){t.add_person_dlg=e},expression:"add_person_dlg"}},[a("v-card",[a("v-form",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Contact Information")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"6",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"First Name",required:""},model:{value:t.add_person.firstname,callback:function(e){t.$set(t.add_person,"firstname",e)},expression:"add_person.firstname"}})],1),a("v-col",{attrs:{cols:"6",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Last Name",required:""},model:{value:t.add_person.lastname,callback:function(e){t.$set(t.add_person,"lastname",e)},expression:"add_person.lastname"}})],1),a("v-col",{attrs:{cols:"6",sm:"6",md:"6"}})],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Street Number"},model:{value:t.add_person.street_number,callback:function(e){t.$set(t.add_person,"street_number",e)},expression:"add_person.street_number"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Street Name"},model:{value:t.add_person.street_name,callback:function(e){t.$set(t.add_person,"street_name",e)},expression:"add_person.street_name"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"3",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"City"},model:{value:t.add_person.city,callback:function(e){t.$set(t.add_person,"city",e)},expression:"add_person.city"}})],1),a("v-col",{attrs:{cols:"2"}},[a("v-text-field",{attrs:{label:"State"},model:{value:t.add_person.state,callback:function(e){t.$set(t.add_person,"state",e)},expression:"add_person.state"}})],1),a("v-col",{attrs:{cols:"3"}},[a("v-text-field",{attrs:{label:"Zip"},model:{value:t.add_person.zip,callback:function(e){t.$set(t.add_person,"zip",e)},expression:"add_person.zip"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:"County"},model:{value:t.add_person.county,callback:function(e){t.$set(t.add_person,"county",e)},expression:"add_person.county"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:"Primary Phone"},model:{value:t.add_person.primaryPhone,callback:function(e){t.$set(t.add_person,"primaryPhone",e)},expression:"add_person.primaryPhone"}})],1),a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:"Secondary Phone"},model:{value:t.add_person.secondaryPhone,callback:function(e){t.$set(t.add_person,"secondaryPhone",e)},expression:"add_person.secondaryPhone"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:"Primary Email"},model:{value:t.add_person.primaryEmail,callback:function(e){t.$set(t.add_person,"primaryEmail",e)},expression:"add_person.primaryEmail"}})],1),a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:"Secondary Email"},model:{value:t.add_person.secondaryEmail,callback:function(e){t.$set(t.add_person,"secondaryEmail",e)},expression:"add_person.secondaryEmail"}})],1)],1)],1),a("small",[t._v("*indicates required field")])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.add_person_dlg=!1}}},[t._v("\n          Close\n        ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.addPerson}},[t._v("\n          Save\n        ")])],1)],1)],1)],1)],1)],1)],1)},pe=[],_e={name:"volunteers-list",data:function(){return{volunteers:[],add_person_dlg:!1,currentVolunteer:null,search:"",currentIndex:-1,name:"",add_person:{firstname:"",lastname:"",street_number:"",street_name:"",city:"",state:"",zip:"",county:"",primaryPhone:"",secondaryPhone:"",primaryEmail:"",secondaryEmail:""},view_person:{firstname:"",lastname:"",street_number:"",street_name:"",city:"",state:"",zip:"",county:"",primaryPhone:"",secondaryPhone:"",primaryEmail:"",secondaryEmail:""}}},computed:{headers:function(){var t=[{text:"Name",value:"name",width:"80px"},{text:"Address",value:"address",width:"100px"},{text:"Email",value:"email",width:"80px"},{text:"Phone",value:"phone",width:"100px"},{text:"County",value:"county",width:"80px"},{text:"ZIP",value:"zip",width:"80px"},{text:"Delete",value:"actions",width:"1%"}];return t}},methods:{nav:function(t){this.$router.push({path:"contact/"+t.id})},retrieveVolunteers:function(){var t=this;yt.getAll().then((function(e){t.volunteers=e.data.filter((function(t){return null==t.user})),t.volunteers.forEach((function(t){console.log("running"),t.address=t.street_number+" "+t.street_name+"\n"+t.city+", "+t.state+" "+t.zip,t.name=t.first_name+" "+t.last_name;var e="";t.emails.forEach((function(t){1==t.isPrimary&&(e+=t.address+"\n")})),t.email=e;var a="";t.phones.forEach((function(t){1==t.isPrimary&&(a+=t.number+"\n")})),t.phone=a}))})).catch((function(t){console.log(t.message)}))},refreshList:function(){this.retrieveVolunteers(),this.currentVolunteers=null,this.currentIndex=-1},setActiveVolunteer:function(t,e){this.currentVolunteer=t,this.currentIndex=e},removeAllVolunteers:function(){var t=this;yt.deleteAll().then((function(e){console.log(e.data),t.refreshList()})).catch((function(t){console.log(t)}))},searchTitle:function(){var t=this;yt.findByName(this.first_name).then((function(e){t.volunteers=e.data,console.log(e.data)})).catch((function(t){console.log(t)}))},addPerson:function(){var t=this,e={first_name:this.add_person.firstname,last_name:this.add_person.lastname,street_number:this.add_person.street_number,street_name:this.add_person.street_name,city:this.add_person.city,state:this.add_person.state,zip:this.add_person.zip,county:this.add_person.county};e.services=this.add_person.services,yt.create(e).then((function(e){return t.retrieveVolunteers(),t.add_organization_dlg=!1,e.data.id})).then((function(e){console.log(e);var a={personId:e,address:t.add_person.primaryEmail,isPrimary:!0},n={personId:e,address:t.add_person.secondaryEmail,isPrimary:!1},o={personId:e,number:t.add_person.primaryPhone,isPrimary:!0},r={personId:e,number:t.add_person.secondaryPhone,isPrimary:!1};te.create(a),te.create(n),ae.create(o),ae.create(r)})).catch((function(t){console.log(t)})),this.add_person_dlg=!1,this.refreshList()},removePerson:function(t){var e=this;confirm("Are you sure you want to remove "+t.first_name+" "+t.last_name+" from the table?")&&yt.delete(t.id).then((function(t){console.log(t.data),e.refreshList()})).catch((function(t){console.log(t)})),window.location.href="/contacts"}},mounted:function(){this.retrieveVolunteers()}},ve=_e,me=(a("25cd"),Object(l["a"])(ve,ue,pe,!1,null,"d48dcd42",null)),fe=me.exports;d()(me,{VBtn:B["a"],VCard:H["a"],VCardActions:J["a"],VCardText:J["c"],VCardTitle:J["d"],VCol:w["a"],VContainer:C["a"],VDataTable:G["a"],VDialog:W["a"],VForm:Y["a"],VHover:X["a"],VIcon:K["a"],VRow:P["a"],VSpacer:m["a"],VTextField:tt["a"]});var he=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("div",{staticClass:"red--text text--darken-4 page-title"},[t._v("Contact Info")])])],1),a("v-row",[a("v-col",{staticClass:"col-7"},[a("v-row",[a("v-col",{staticClass:"offset-1 col-10"},[a("v-card",{attrs:{elevation:"3"}},[a("v-card-title",[a("v-row",[a("v-col",[a("span",{staticClass:"text-h4 font-weight-thin"},[t._v("\n                              "+t._s(t.edit_person.first_name+" "+t.edit_person.last_name)+"\n                            ")])]),a("v-col",{staticClass:"col-2"},[a("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,o=e.attrs;return[a("v-hover",{attrs:{"open-delay":"200"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.hover;return[a("v-btn",t._g(t._b({class:{"on-hover":r},attrs:{icon:"",elevation:r?16:2}},"v-btn",o,!1),n),[a("v-icon",[t._v("\n                                  mdi-pencil\n                                ")])],1)]}}],null,!0)})]}}]),model:{value:t.edit_person_dlg,callback:function(e){t.edit_person_dlg=e},expression:"edit_person_dlg"}},[a("v-card",[a("v-form",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Contact Information")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"6",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"First Name",required:""},model:{value:t.edit_person.first_name,callback:function(e){t.$set(t.edit_person,"first_name",e)},expression:"edit_person.first_name"}})],1),a("v-col",{attrs:{cols:"6",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Last Name",required:""},model:{value:t.edit_person.last_name,callback:function(e){t.$set(t.edit_person,"last_name",e)},expression:"edit_person.last_name"}})],1),a("v-col",{attrs:{cols:"6",sm:"6",md:"6"}})],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Street Number"},model:{value:t.edit_person.street_number,callback:function(e){t.$set(t.edit_person,"street_number",e)},expression:"edit_person.street_number"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Street Name"},model:{value:t.edit_person.street_name,callback:function(e){t.$set(t.edit_person,"street_name",e)},expression:"edit_person.street_name"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"3",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"City"},model:{value:t.edit_person.city,callback:function(e){t.$set(t.edit_person,"city",e)},expression:"edit_person.city"}})],1),a("v-col",{attrs:{cols:"2"}},[a("v-text-field",{attrs:{label:"State"},model:{value:t.edit_person.state,callback:function(e){t.$set(t.edit_person,"state",e)},expression:"edit_person.state"}})],1),a("v-col",{attrs:{cols:"3"}},[a("v-text-field",{attrs:{label:"Zip"},model:{value:t.edit_person.zip,callback:function(e){t.$set(t.edit_person,"zip",e)},expression:"edit_person.zip"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:"County"},model:{value:t.edit_person.county,callback:function(e){t.$set(t.edit_person,"county",e)},expression:"edit_person.county"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:"Primary Phone"},model:{value:t.edit_person.primaryPhone,callback:function(e){t.$set(t.edit_person,"primaryPhone",e)},expression:"edit_person.primaryPhone"}})],1),a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:"Secondary Phone"},model:{value:t.edit_person.secondaryPhone,callback:function(e){t.$set(t.edit_person,"secondaryPhone",e)},expression:"edit_person.secondaryPhone"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:"Primary Email"},model:{value:t.edit_person.primaryEmail,callback:function(e){t.$set(t.edit_person,"primaryEmail",e)},expression:"edit_person.primaryEmail"}})],1),a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:"Secondary Email"},model:{value:t.edit_person.secondaryEmail,callback:function(e){t.$set(t.edit_person,"secondaryEmail",e)},expression:"edit_person.secondaryEmail"}})],1)],1)],1),a("small",[t._v("*indicates required field")])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.edit_person_dlg=!1}}},[t._v("\n                                  Close\n                                ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.updatePerson}},[t._v("\n                                  Save\n                                ")])],1)],1)],1)],1)],1)],1)],1),a("v-card-subtitle",[t._v("\n                        "+t._s(t.edit_person.primaryPhone)+" |  "+t._s(t.edit_person.primaryEmail)+"\n                      ")]),a("v-divider"),a("v-card-text",[a("address",{staticClass:"text-capitalize"},[t._v("\n                          "+t._s(t.edit_person.street_number)+" "+t._s(t.edit_person.street_name)),a("br"),t._v("\n                          "+t._s(t.edit_person.city)+", "+t._s(t.edit_person.state)+" "+t._s(t.edit_person.zip)),a("br"),t._v("\n                          County of "+t._s(t.edit_person.county)),a("br")]),t._v("\n                        Alternate Contact Info\n                        "+t._s(t.edit_person.secondaryPhone)+"\n                        "+t._s(t.edit_person.secondaryEmail)+"\n                      ")])],1)],1)],1)],1)],1)],1)},ge=[],be={name:"contact",data:function(){return{edit_person_dlg:!1,phoneId:"",phone2Id:"",emailId:"",email2Id:"",person:{first_name:"",last_name:"",street_number:"",street_name:"",city:"",state:"",zip:"",county:"",primaryPhone:"",secondaryPhone:"",primaryEmail:"",secondaryEmail:""},edit_person:{first_name:"",last_name:"",street_number:"",street_name:"",city:"",state:"",zip:"",county:"",primaryPhone:"",secondaryPhone:"",primaryEmail:"",secondaryEmail:""}}},methods:{showDialog:function(){this.edit_person_dlg=!0},setPerson:function(){var t=this;Ht.get(this.$route.params.personId).then((function(e){t.edit_person=e.data,e.data.phones.forEach((function(e){e.isPrimary?(t.edit_person.primaryPhone=e.number,t.phoneId=e.id):(t.edit_person.secondaryPhone=e.number,t.phone2Id=e.id)})),e.data.emails.forEach((function(e){e.isPrimary?(t.edit_person.primaryEmail=e.address,t.emailId=e.id):(t.edit_person.secondaryEmail=e.address,t.email2Id=e.id)}))})).catch((function(t){console.log(t.message)}))},updatePerson:function(){var t=this,e={first_name:this.edit_person.first_name,last_name:this.edit_person.last_name,street_number:this.edit_person.street_number,street_name:this.edit_person.street_name,city:this.edit_person.city,state:this.edit_person.state,zip:this.edit_person.zip,county:this.edit_person.county};console.log(e);var a=this.$route.params.personId;Ht.update(a,e).then((function(t){return t.data.id})).then((function(e){console.log(e);var a={address:t.edit_person.primaryEmail,isPrimary:!0},n={address:t.edit_person.secondaryEmail,isPrimary:!1},o={number:t.edit_person.primaryPhone,isPrimary:!0},r={number:t.edit_person.secondaryPhone,isPrimary:!1};console.log(r),te.update(t.emailId,a),te.update(t.email2Id,n),ae.update(t.phoneId,o),ae.update(t.phone2Id,r).then((function(t){console.log(t)}))})).catch((function(t){console.log(t)})),this.edit_person_dlg=!1}},mounted:function(){this.setPerson()}},xe=be,ye=Object(l["a"])(xe,he,ge,!1,null,null,null),ke=ye.exports;d()(ye,{VBtn:B["a"],VCard:H["a"],VCardActions:J["a"],VCardSubtitle:J["b"],VCardText:J["c"],VCardTitle:J["d"],VCol:w["a"],VContainer:C["a"],VDialog:W["a"],VDivider:Yt["a"],VForm:Y["a"],VHover:X["a"],VIcon:K["a"],VRow:P["a"],VSpacer:m["a"],VTextField:tt["a"]});var we=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("v-app",[a("v-dialog",{attrs:{persistent:"","max-width":"600px","min-width":"360px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("div",[a("v-tabs",{attrs:{"show-arrows":"","background-color":"red","icons-and-text":"",dark:"",grow:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tabs-slider",{attrs:{color:"purple darken-4"}}),t._l(t.tabs,(function(e){return a("v-tab",{key:e.name},[a("v-icon",{attrs:{large:""}},[t._v(t._s(e.icon))]),a("div",{staticClass:"caption py-1"},[t._v(t._s(e.name))])],1)})),a("v-tab-item",[a("v-card",{staticClass:"px-4"},[a("v-card-text",[a("v-form",{ref:"loginForm",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{rules:t.loginEmailRules,label:"E-mail",required:""},model:{value:t.loginEmail,callback:function(e){t.loginEmail=e},expression:"loginEmail"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{"append-icon":t.show1?"eye":"eye-off",rules:[t.rules.required,t.rules.min],type:t.show1?"text":"password",name:"input-10-1",label:"Password",hint:"At least 8 characters",counter:""},on:{"click:append":function(e){t.show1=!t.show1}},model:{value:t.loginPassword,callback:function(e){t.loginPassword=e},expression:"loginPassword"}})],1),a("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"6",xsm:"12"}}),a("v-spacer"),a("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"3",xsm:"12","align-end":""}},[a("v-btn",{attrs:{"x-large":"",block:"",disabled:!t.valid,color:"success"},on:{click:t.validate}},[t._v("\n                        Login\n                      ")])],1)],1)],1)],1)],1)],1),a("v-tab-item",[a("v-card",{staticClass:"px-4"},[a("v-card-text",[a("v-form",{ref:"registerForm",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{rules:[t.rules.required],label:"First Name",maxlength:"20",required:""},model:{value:t.FirstName,callback:function(e){t.FirstName=e},expression:"FirstName"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{rules:[t.rules.required],label:"Last Name",maxlength:"20",required:""},model:{value:t.LastName,callback:function(e){t.LastName=e},expression:"LastName"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{rules:[t.rules.required],label:"User ID",maxlength:"20",required:""},model:{value:t.UserId,callback:function(e){t.UserId=e},expression:"UserId"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{rules:t.emailRules,label:"E-mail",required:""},model:{value:t.Email,callback:function(e){t.Email=e},expression:"Email"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{"append-icon":t.show1?"mdi-eye":"mdi-eye-off",rules:[t.rules.required,t.rules.min],type:t.show1?"text":"Password",name:"input-10-1",label:"Password",hint:"At least 8 characters",counter:""},on:{"click:append":function(e){t.show1=!t.show1}},model:{value:t.Password,callback:function(e){t.Password=e},expression:"Password"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{block:"","append-icon":t.show1?"mdi-eye":"mdi-eye-off",rules:[t.rules.required,t.passwordMatch],type:t.show1?"text":"Password",name:"input-10-1",label:"Confirm Password",counter:""},on:{"click:append":function(e){t.show1=!t.show1}},model:{value:t.verify,callback:function(e){t.verify=e},expression:"verify"}})],1),a("v-spacer"),a("v-col",{staticClass:"d-flex ml-auto",attrs:{cols:"12",sm:"3",xsm:"12"}},[a("v-btn",{attrs:{"x-large":"",block:"",disabled:!t.valid,color:"success"},on:{click:t.validate}},[t._v("Register")])],1)],1)],1)],1)],1)],1)],2)],1)])],1)],1)},Ce=[],Pe={computed:{passwordMatch:function(){var t=this;return function(){return t.Password===t.verify||"Password must match"}}},methods:{validate:function(){this.$refs.loginForm.validate()&&axios.post("localhost:3000/Users",{userId:JSON.stringify(this.UserId),firstName:JSON.stringify(this.FirstName),lastName:JSON.stringify(this.LastName),password:JSON.stringify(this.Password),emailAddress:JSON.stringify(this.Email)}).then((function(t){console.log(t)})).catch((function(t){console.log(t)}))},reset:function(){this.$refs.form.reset()},resetValidation:function(){this.$refs.form.resetValidation()}},data:function(){return{dialog:!0,tab:0,tabs:[{name:"Login",icon:"mdi-account"},{name:"Register",icon:"mdi-account-outline"}],valid:!0,FirstName:"",UserId:"",LastName:"",Email:"",Password:"",verify:"",loginPassword:"",loginEmail:"",loginEmailRules:[function(t){return!!t||"Required"},function(t){return/.+@.+\..+/.test(t)||"E-mail must be valid"}],emailRules:[function(t){return!!t||"Required"},function(t){return/.+@.+\..+/.test(t)||"E-mail must be valid"}],show1:!1,rules:{required:function(t){return!!t||"Required."},min:function(t){return t&&t.length>=8||"Min 8 characters"}}}}},Ve=Pe,ze=a("71a3"),Se=a("c671"),Ie=a("fe57"),De=a("9a96"),Ee=Object(l["a"])(Ve,we,Ce,!1,null,null,null),Oe=Ee.exports;d()(Ee,{VApp:u["a"],VBtn:B["a"],VCard:H["a"],VCardText:J["c"],VCol:w["a"],VDialog:W["a"],VForm:Y["a"],VIcon:K["a"],VRow:P["a"],VSpacer:m["a"],VTab:ze["a"],VTabItem:Se["a"],VTabs:Ie["a"],VTabsSlider:De["a"],VTextField:tt["a"]});var $e=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("div",{staticClass:"red--text text--darken-4 page-title"},[t._v("User Information")])])],1),a("v-row",[a("v-col",{staticClass:"col-7"},[a("div",{staticClass:"text-h5 font-weight-thin"}),a("div",{staticClass:"text-h3 font-weight-thin"},[t._v("\n        "+t._s(t.person.name)+"\n        "),a("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){e.on;var n=e.attrs;return[a("v-hover",{attrs:{"open-delay":"200"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.hover;return[a("v-btn",t._b({class:{"on-hover":o},attrs:{text:"",elevation:o?16:2},on:{click:t.showDialog}},"v-btn",n,!1),[a("v-icon",[t._v(" mdi-pencil ")])],1)]}}],null,!0)})]}}]),model:{value:t.edit_person_dlg,callback:function(e){t.edit_person_dlg=e},expression:"edit_person_dlg"}},[a("v-card",[a("v-form",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("User Information")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"6",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"First Name",required:""},model:{value:t.edit_person.first_name,callback:function(e){t.$set(t.edit_person,"first_name",e)},expression:"edit_person.first_name"}})],1),a("v-col",{attrs:{cols:"6",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Last Name",required:""},model:{value:t.edit_person.last_name,callback:function(e){t.$set(t.edit_person,"last_name",e)},expression:"edit_person.last_name"}})],1),a("v-col",{attrs:{cols:"6",sm:"6",md:"6"}})],1),a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:"Email"},model:{value:t.edit_user.email,callback:function(e){t.$set(t.edit_user,"email",e)},expression:"edit_user.email"}})],1),a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:"Password"},model:{value:t.edit_user.password,callback:function(e){t.$set(t.edit_user,"password",e)},expression:"edit_user.password"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-autocomplete",{attrs:{label:"User Role",items:t.roles,"item-text":"name","item-value":"id","return-object":""},on:{change:t.updateSelectedRole}})],1)],1)],1),a("small",[t._v("*indicates required field")])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.edit_person_dlg=!1}}},[t._v("\n                  Close\n                ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.updatePerson}},[t._v("\n                  Save\n                ")])],1)],1)],1)],1)],1),a("div",{staticClass:"body-3 mt-3"},[t._v("\n        Name:\n        "+t._s(t.edit_person.first_name+" "+t.edit_person.last_name)+"\n      ")]),a("div",{staticClass:"body-3 mt-3"},[t._v("Email: "+t._s(t.edit_user.email))])])],1)],1)},Ne=[],Ae=function(){function t(){Object(D["a"])(this,t)}return Object(E["a"])(t,[{key:"getAll",value:function(){return N.get("roles")}}]),t}(),Fe=new Ae,Re={name:"user",data:function(){return{selectedRole:"",roles:[],edit_person_dlg:!1,person:{first_name:"",last_name:"",email:"",password:""},edit_person:{first_name:"",last_name:""},edit_user:{password:"",email:""}}},methods:{updateSelectedRole:function(t){this.selectedRole=t},populateRoles:function(){var t=this;Fe.getAll().then((function(e){t.roles=e.data,console.log(t.roles)})).catch((function(t){console.log(t)}))},showDialog:function(){this.edit_person_dlg=!0},setPerson:function(){var t=this;this.populateRoles(),wt.get(this.$route.params.personId).then((function(e){console.log(e.data),t.edit_person=e.data,t.edit_user=e.data.user})).catch((function(t){console.log(t.message)}))},updatePerson:function(){var t={first_name:this.edit_person.first_name,last_name:this.edit_person.last_name,email:this.edit_user.email,password:this.edit_user.password};console.log(t);var e=this.$route.params.personId;wt.update(e,t).then((function(t){return t.data.id})).then((function(t){console.log(t)})).catch((function(t){console.log(t)})),this.edit_person_dlg=!1}},mounted:function(){this.setPerson()}},Le=Re,je=Object(l["a"])(Le,$e,Ne,!1,null,null,null),Te=je.exports;d()(je,{VAutocomplete:Dt["a"],VBtn:B["a"],VCard:H["a"],VCardActions:J["a"],VCardText:J["c"],VCardTitle:J["d"],VCol:w["a"],VContainer:C["a"],VDialog:W["a"],VForm:Y["a"],VHover:X["a"],VIcon:K["a"],VRow:P["a"],VSpacer:m["a"],VTextField:tt["a"]});var Me=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("div",{staticClass:"red--text text--darken-4 page-title"},[t._v("Users")]),a("v-row",[a("v-col",{staticClass:"col-12"},[a("v-card",{attrs:{elevation:"3 text-wrap"}},[a("v-card-text",[a("v-row",[a("v-col",{staticClass:"col-6"},[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search Table","single-line":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),a("v-data-table",{staticClass:"text-capitalize",attrs:{headers:t.headers,items:t.volunteers,search:t.search,"item-key":"id","multi-sort":""},scopedSlots:t._u([{key:"item.name",fn:function(e){var n=e.item;return[a("button",{on:{click:function(e){return t.removePerson(n)}}},[t._v("X")]),null!==n.first_name?[a("a",{on:{click:function(e){return t.nav(n)}}},[a("span",{staticClass:"black--text"},[t._v("  "+t._s(n.name))]),n.public_safety?a("span",[t._v(" (Public Safety)")]):t._e()])]:null!==n.partner?[a("a",{on:{click:function(e){return t.nav(n)}}},[a("span",{staticClass:"purple--text"},[t._v(t._s(n.name))]),n.public_safety?a("span",[t._v(" (Public Safety)")]):t._e()])]:t._e()]}},{key:"item.address",fn:function(e){var n=e.item;return[a("address",[t._v("\n            "+t._s(n.address)+"\n          ")])]}},{key:"item.email",fn:function(e){var n=e.item;return[a("a",{on:{click:function(e){return t.nav(n)}}},[a("div",[a("span",{staticClass:"black--text"},[t._v("\n            "+t._s(n.user.email)+"\n          ")])])])]}},{key:"item.roles",fn:function(e){var n=e.item;return[a("div",[a("span",{staticClass:"purple--text"},[t._v(t._s(n.role))])])]}},{key:"item.actions",fn:function(e){var n=e.item;return[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.removePerson(n)}}},[t._v("mdi-delete")])]}}],null,!0)})],1)],1),a("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,o=e.attrs;return[a("v-hover",{attrs:{"open-delay":"200"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.hover;return[a("v-btn",t._g(t._b({class:{"on-hover":r},attrs:{text:"",elevation:r?16:2}},"v-btn",o,!1),n),[t._v("\n              Add User\n              "),a("v-icon",[t._v(" mdi-plus ")])],1)]}}],null,!0)})]}}]),model:{value:t.add_person_dlg,callback:function(e){t.add_person_dlg=e},expression:"add_person_dlg"}},[a("v-card",[a("v-form",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Add User")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"6",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"First Name",required:""},model:{value:t.add_person.firstname,callback:function(e){t.$set(t.add_person,"firstname",e)},expression:"add_person.firstname"}})],1),a("v-col",{attrs:{cols:"6",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Last Name",required:""},model:{value:t.add_person.lastname,callback:function(e){t.$set(t.add_person,"lastname",e)},expression:"add_person.lastname"}})],1),a("v-col",{attrs:{cols:"6",sm:"6",md:"6"}})],1),a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:"Email"},model:{value:t.add_person.email,callback:function(e){t.$set(t.add_person,"email",e)},expression:"add_person.email"}})],1),a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:"Password"},model:{value:t.add_person.password,callback:function(e){t.$set(t.add_person,"password",e)},expression:"add_person.password"}})],1)],1)],1),a("small",[t._v("*indicates required field")])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.add_person_dlg=!1}}},[t._v("\n                Close\n              ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.addPerson}},[t._v("\n                Save\n              ")])],1)],1)],1)],1)],1)],1)],1)},qe=[],Ue=function(){function t(){Object(D["a"])(this,t)}return Object(E["a"])(t,[{key:"create",value:function(t){return N.post("/user_roles/",t)}},{key:"update",value:function(t,e){return N.put("/user_roles/".concat(t),e)}},{key:"get",value:function(t,e){return N.get("/user_roles/".concat(t),e)}}]),t}(),Be=new Ue,He={name:"users",data:function(){return{volunteers:[],add_person_dlg:!1,currentVolunteer:null,search:"",currentIndex:-1,name:"",role:"",add_person:{firstname:"",lastname:"",email:"",password:""},add_role:{roles:""},view_person:{firstname:"",lastname:""}}},computed:{headers:function(){var t=[{text:"Name",value:"name",width:"80px"},{text:"Email",value:"email",width:"80px"},{text:"Roles",value:"role",width:"100px"}];return t}},methods:{nav:function(t){this.$router.push({path:"User/"+t.id})},retrieveVolunteers:function(){var t=this;wt.getAll().then((function(e){console.log(e.data),t.volunteers=e.data,t.volunteers.forEach((function(t){t.name=t.first_name+" "+t.last_name,console.log(t.name)}))})).catch((function(t){console.log(t.message)}))},refreshList:function(){this.retrieveVolunteers(),this.currentVolunteers=null,this.currentIndex=-1},setActiveVolunteer:function(t,e){this.currentVolunteer=t,this.currentIndex=e},addPerson:function(){var t=this,e={first_name:this.add_person.firstname,last_name:this.add_person.lastname,email:this.add_person.email,password:this.add_person.password};this.add_role.roles;e.services=this.add_person.services,wt.create(e).then((function(e){console.log(e);var a={roleId:2,userId:e.data};t.refreshList(),Be.create(a).then((function(e){t.refreshList()})).catch((function(t){console.log(t)}))})).catch((function(t){console.log(t)})),this.add_person_dlg=!1},removePerson:function(t){var e=this;confirm("Are you sure you want to remove "+t.first_name+" "+t.last_name+" from the table?")&&wt.delete(t.id).then((function(t){e.refreshList()})).catch((function(t){console.log(t)}))}},mounted:function(){this.retrieveVolunteers()}},Je=He,Ze=(a("459c"),Object(l["a"])(Je,Me,qe,!1,null,"7ab37a65",null)),Ge=Ze.exports;d()(Ze,{VBtn:B["a"],VCard:H["a"],VCardActions:J["a"],VCardText:J["c"],VCardTitle:J["d"],VCol:w["a"],VContainer:C["a"],VDataTable:G["a"],VDialog:W["a"],VForm:Y["a"],VHover:X["a"],VIcon:K["a"],VRow:P["a"],VSpacer:m["a"],VTextField:tt["a"]}),n["a"].use(g["a"]);var We=new g["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:z},{path:"/organizations",name:"organizations",component:at},{path:"/register",name:"register",component:Oe},{path:"/partner/:organizationId",name:"partner",component:Mt,props:!0},{path:"/relationship/:organizationId",name:"relationship",component:de},{path:"/contacts",name:"contacts",component:fe},{path:"/contact/:personId",name:"contact",component:ke},{path:"/users",name:"users",component:Ge},{path:"/user/:personId",name:"user",component:Te}]}),Ye=a("f309"),Xe=new Ye["a"]({rtl:!1,theme:{dark:!1,themes:{dark:{primary:"#E57373",accent:"#FF4081",secondary:"#ffe18d",success:"#4CAF50",info:"#2196F3",warning:"#FB8C00",error:"#FF5252"},light:{primary:"#E8E8E0",accent:"#C62828",secondary:"#30b1dc",success:"#4CAF50",info:"#2196F3",warning:"#FB8C00",error:"#FF5252"}}}});n["a"].use(Ye["a"]);var Ke=a("a65d"),Qe=a.n(Ke);n["a"].use(Qe.a),n["a"].config.productionTip=!1,new n["a"]({router:We,vuetify:Xe,render:function(t){return t(h)}}).$mount("#app")},"64a9":function(t,e,a){},7456:function(t,e,a){},"8e48":function(t,e,a){t.exports=a.p+"img/redcross-logo.277e8730.png"},"9b37":function(t,e,a){},a2da:function(t,e,a){},d8f1:function(t,e,a){"use strict";var n=a("9b37"),o=a.n(n);o.a}});
//# sourceMappingURL=app.51062a3a.js.map